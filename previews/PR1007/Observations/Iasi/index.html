<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>IASI · Harmonie wiki</title><meta name="title" content="IASI · Harmonie wiki"/><meta property="og:title" content="IASI · Harmonie wiki"/><meta property="twitter:title" content="IASI · Harmonie wiki"/><meta name="description" content="Documentation for Harmonie wiki."/><meta property="og:description" content="Documentation for Harmonie wiki."/><meta property="twitter:description" content="Documentation for Harmonie wiki."/><meta property="og:url" content="https://hirlam.github.io/HarmonieSystemDocumentation/dev/Observations/Iasi/"/><meta property="twitter:url" content="https://hirlam.github.io/HarmonieSystemDocumentation/dev/Observations/Iasi/"/><link rel="canonical" href="https://hirlam.github.io/HarmonieSystemDocumentation/dev/Observations/Iasi/"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-HQ1BCP3LPJ"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HQ1BCP3LPJ', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Harmonie wiki logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Harmonie wiki</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../System/GitDeveloperDocumentation/">GitHub workflow</a></li><li><a class="tocitem" href="../../Overview/da_graph/">Graphical Overview</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on Atos</a></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Overview</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Overview/Content/">Content</a></li><li><a class="tocitem" href="../../Overview/Binaries/">Binaries</a></li><li><a class="tocitem" href="../../Overview/FileFormats/">File Formats</a></li><li><a class="tocitem" href="../../Overview/Source/">Source</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Experiment Configuration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ExperimentConfiguration/ConfigureYourExperiment/">Experiment</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/Namelists/">Namelist</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/UseofObservation/">Observations</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/PlatformConfiguration/">Platform</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/How_to_use_hires_topography/">HiRes Topography</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/ModelDomain/">Domain</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/VerticalGrid/">Vertical Grid</a></li></ul></li></ul></li><li><span class="tocitem">NWP Components</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Observations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1-1"><span class="docs-label">Preprocessing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../ObservationPreprocessing/">Preprocessing</a></li><li><a class="tocitem" href="../Oulan/">Oulan</a></li><li><a class="tocitem" href="../Bator/">Bator</a></li><li><a class="tocitem" href="../Cope/">Cope</a></li><li><a class="tocitem" href="../ObservationData/">ObservationData</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-1-2" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1-2"><span class="docs-label">How to</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../SYNOP/">SYNOP</a></li><li><a class="tocitem" href="../Amv/">AMV</a></li><li><a class="tocitem" href="../Atovs/">ATOVS</a></li><li class="is-active"><a class="tocitem" href>IASI</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Including-IASI-radiances-in-a-HARMONIE-run"><span>Including IASI radiances in a HARMONIE run</span></a></li></ul></li><li><a class="tocitem" href="../Seviri/">SEVIRI</a></li><li><a class="tocitem" href="../Scatt/">Scatt</a></li><li><a class="tocitem" href="../Ascat/">AScat</a></li><li><a class="tocitem" href="../GNSS/">GNSS</a></li><li><a class="tocitem" href="../Modes/">Modes</a></li><li><a class="tocitem" href="../RadarData/">Radar</a></li><li><a class="tocitem" href="../Aeolus/">Aeolus</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Data Assimilation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-2-1" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1"><span class="docs-label">Surface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI/">CANARI</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_OI_MAIN/">CANARI OI MAIN</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_EKF_SURFEX/">CANARI EKF SURFEX</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/SurfaceAnalysis/">Surface Analysis</a></li></ul></li><li><a class="tocitem" href="../../DataAssimilation/Screening/">Screening</a></li><li><a class="tocitem" href="../../DataAssimilation/StructureFunctions/">Structure functions</a></li><li><a class="tocitem" href="../../DataAssimilation/DaAlgorithms/">Algorithms</a></li><li><a class="tocitem" href="../../DataAssimilation/DigitalFilterInitialization/">Digital Filter Initialization</a></li><li><a class="tocitem" href="../../DataAssimilation/ObservationOperators/">HOP_DRIVER</a></li><li><a class="tocitem" href="../../DataAssimilation/SingleObs/">Single Obs</a></li><li><a class="tocitem" href="../../DataAssimilation/LSMIXandJk/">LSMIX and Jk</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Diagnostics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-3-1"><span class="docs-label">Data Assimilation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/DFS/">DFS</a></li><li><a class="tocitem" href="../../DataAssimilation/MTEN/">MTEN</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-3-2"><span class="docs-label">Forecast(spin-up)</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/CHKEVO/">CHKEVO</a></li><li><a class="tocitem" href="../../DataAssimilation/NWECHKEVO/">NWECHKEVO</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Boundaries</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Boundaries/BoundaryFilePreparation/">Preparation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Forecast Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ForecastModel/Forecast/">Forecast</a></li><li><a class="tocitem" href="../../ForecastModel/ForecastSettings/">Settings</a></li><li><a class="tocitem" href="../../ForecastModel/Outputlist/">Output List</a></li><li><a class="tocitem" href="../../ForecastModel/HR/">High Res</a></li><li><input class="collapse-toggle" id="menuitem-3-5-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5-5"><span class="docs-label">Single Column Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC/">MUSC</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/Forcing/">Forcing</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC_EMS/">MUSC EMS</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC_vars/">MUSC vars</a></li></ul></li><li><a class="tocitem" href="../../ForecastModel/WindFarms/">Wind Farm Parameterisation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">Climate Generation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ClimateGeneration/ClimateGeneration/">Climate Generation</a></li><li><a class="tocitem" href="../../ClimateGeneration/DownloadInputData/">Input Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-7" type="checkbox"/><label class="tocitem" for="menuitem-3-7"><span class="docs-label">EPS</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../EPS/Howto/">Howto</a></li><li><a class="tocitem" href="../../EPS/System/">System</a></li><li><a class="tocitem" href="../../EPS/BDSTRATEGY/">BDSTRATEGY</a></li><li><a class="tocitem" href="../../EPS/SLAF/">SLAF</a></li><li><a class="tocitem" href="../../EPS/SPP/">SPP</a></li><li><a class="tocitem" href="../../EPS/SPPT/">SPPT</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-8" type="checkbox"/><label class="tocitem" for="menuitem-3-8"><span class="docs-label">Post Processing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../PostProcessing/Diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../../PostProcessing/FileConversions/">FileConversions</a></li><li><a class="tocitem" href="../../PostProcessing/Fullpos/">FullPos</a></li><li><a class="tocitem" href="../../PostProcessing/gl/">GL</a></li><li><a class="tocitem" href="../../PostProcessing/xtool/">xtool</a></li><li><a class="tocitem" href="../../PostProcessing/Interpolation/">Interpolation GL</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-9" type="checkbox"/><label class="tocitem" for="menuitem-3-9"><span class="docs-label">Verification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Verification/Extract4verification/">Extract4verification</a></li><li><a class="tocitem" href="../../Verification/Verification/">Verification</a></li><li><a class="tocitem" href="../../Verification/HARP/">HARP</a></li><li><a class="tocitem" href="../../Verification/Obsmon/">Obsmon</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-10" type="checkbox"/><label class="tocitem" for="menuitem-3-10"><span class="docs-label">Visualization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Visualization/EPyGrAM/">EpyGram</a></li></ul></li></ul></li><li><span class="tocitem">System</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Build</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Build/Build_with_cmake/">CMake</a></li><li><a class="tocitem" href="../../Build/Build_with_makeup/">Makeup</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Phasing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../System/MFaccess/">MF Access</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Suite Management</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../SuiteManagement/ECFLOW/">ECFLOW</a></li></ul></li><li><a class="tocitem" href="../../System/TheHarmonieScript/">The Harmonie script</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on ECMWF&#39;s Atos</a></li><li><a class="tocitem" href="../../System/ReleaseProcess/">Harmonie release process</a></li><li><a class="tocitem" href="../../System/Local/QuickStartLocal/">Local</a></li><li><a class="tocitem" href="../../System/HarmonieTestbed/">Testbed</a></li><li><a class="tocitem" href="../../System/ECMWF/ECMWF_teleport/">Teleport</a></li><li><a class="tocitem" href="../../System/Build_local_docs/">Local Documentation</a></li><li><a class="tocitem" href="../../System/DrHook/">DrHook</a></li><li><a class="tocitem" href="../../System/StandaloneOdb/">Stand alone ODB</a></li><li><a class="tocitem" href="../../System/UpdateNamelists/">Update Namelist</a></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">NWP Components</a></li><li><a class="is-disabled">Observations</a></li><li><a class="is-disabled">How to</a></li><li class="is-active"><a href>IASI</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>IASI</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Hirlam/Harmonie" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Hirlam/Harmonie/blob/dev-CY46h1/docs/src/Observations/Iasi.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="IASI-radiances-(pre-)-processing"><a class="docs-heading-anchor" href="#IASI-radiances-(pre-)-processing">IASI radiances (pre-) processing</a><a id="IASI-radiances-(pre-)-processing-1"></a><a class="docs-heading-anchor-permalink" href="#IASI-radiances-(pre-)-processing" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>Typical IASI radiance data reception consists of a subset of 366 channels out of the full set of 8461. These cover the infrared absorption spectrum from 3.8 to 15.4 micrometers. In the context of NWP, the most useful IASI channels include (i) the temperature-sounding channels in the approximate channel index range 100-450, (ii) the humidity-sounding channels at 2800-3500 and 5000-5500 indices, and (iii) surface-sensing window channels at 500-1000. Most of the NWP impact from IASI is thought to come from group (i) and especially from the upper-tropospheric and lower-stratospheric channels in the range 200-300.</p><h2 id="Including-IASI-radiances-in-a-HARMONIE-run"><a class="docs-heading-anchor" href="#Including-IASI-radiances-in-a-HARMONIE-run">Including IASI radiances in a HARMONIE run</a><a id="Including-IASI-radiances-in-a-HARMONIE-run-1"></a><a class="docs-heading-anchor-permalink" href="#Including-IASI-radiances-in-a-HARMONIE-run" title="Permalink"></a></h2><h3 id="scr/include.ass"><a class="docs-heading-anchor" href="#scr/include.ass"><code>scr/include.ass</code></a><a id="scr/include.ass-1"></a><a class="docs-heading-anchor-permalink" href="#scr/include.ass" title="Permalink"></a></h3><p><code>scr/include.ass</code> should be edited to &quot;switch on&quot; the use of AMSUA (AMSU-A), AMSUB (AMSU-B/MHS):</p><pre><code class="language-bash hljs">export IASI_OBS=1             # IASI
export ATOVS_SOURCE=mars       # local: EUMETCast;
export IASI_SOURCE=ears        # mars:MARS | else: file in $OBDIR
export IASI_RT_COEF=lblrtm     # genln2|kcarta|lblrtm
[[  $IASI_OBS -eq 1  ]] &amp;&amp; types_BASE=&quot;$types_BASE iasi&quot;</code></pre><h3 id="Loading-the-IASI-radiances"><a class="docs-heading-anchor" href="#Loading-the-IASI-radiances">Loading the IASI radiances</a><a id="Loading-the-IASI-radiances-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-the-IASI-radiances" title="Permalink"></a></h3><h4 id="Data-extracted-from-MARS"><a class="docs-heading-anchor" href="#Data-extracted-from-MARS">Data extracted from MARS</a><a id="Data-extracted-from-MARS-1"></a><a class="docs-heading-anchor-permalink" href="#Data-extracted-from-MARS" title="Permalink"></a></h4><pre><code class="nohighlight hljs">      elif [ &quot;$base&quot; = iasi  ] ; then
      # IASI
        if [ &quot;$IASI_OBS&quot; -eq 1 ]; then
          echo &quot;iasi     iasi     BUFR     iasi     &quot;&gt;&gt;batormap
          ln -sf &quot;${HM_LIB}&quot;/const/bator_param/param_bator.cfg.iasi param.cfg
          if [ &quot;$IASI_SOURCE&quot; = mars ] ; then
            ln -sf &quot;$WRK&quot;/splitObs/iasi ./BUFR.iasi
          else
            ln -sf $OBSDIR/iasi$DTG ./BUFR.iasi
          fi
        fi</code></pre><h4 id="Locally-received-data"><a class="docs-heading-anchor" href="#Locally-received-data">Locally received data</a><a id="Locally-received-data-1"></a><a class="docs-heading-anchor-permalink" href="#Locally-received-data" title="Permalink"></a></h4><h4 id="Controlling-the-detection-of-cloud"><a class="docs-heading-anchor" href="#Controlling-the-detection-of-cloud">Controlling the detection of cloud</a><a id="Controlling-the-detection-of-cloud-1"></a><a class="docs-heading-anchor-permalink" href="#Controlling-the-detection-of-cloud" title="Permalink"></a></h4><p>IASI radiances are strongly influenced by cloud. Because of inaccurate forward modelling, large background errors in cloud fields, and non-linear effects, success in the use of IASI requires careful screening and removal of cloud-affected data. In the HARMONIE data assimilation system, the screening for cloud follows the method of McNally and Watts (2003). The power of this method lies in the use of a large number of individual channels such that much of the disturbing instrument noise can be smoothed out and the cloud radiative effect is therefore more easily detected.</p><p>Even if the active use of IASI is limited to relatively small number of channels (such as the 55-channel subset in MetCoOp in early 2021), it is advisable to include more than 100 channels in the cloud detection channel list. Furthermore, it is important that all these channels are subjected to VarBC. To achieve the latter, one needs to make sure that blacklisting for the cloud detection channels uses the <code>fail(EXPERIMENTAL)</code> syntax rather than <code>fail(CONSTANT)</code>. The following excerpt from <code>src/blacklists/hirlam_blacklist.b.data_selection_after_20140601</code> illustrates the concept:</p><pre><code class="nohighlight hljs">    if (SENSOR = iasi) then

      ! remove channels that are not used in either cloud detection
      ! or minimization
      if PRESS notin (38,   49,   51,   55,   57,   61,   63,   83,   85,   87,
                     104,  109,  111,  116,  122,  128,  135,  141,  146,  148,
                     154,  159,  161,  167,  173,  179,  180,  185,  187,  193,
                     199,  205,  207,  210,  212,  214,  217,  219,  222,  224,
                     226,  230,  232,  236,  239,  242,  243,  246,  249,  252,
                     254,  256,  258,  260,  262,  265,  267,  269,  275,  278,
                     280,  282,  284,  286,  288,  290,  292,  294,  296,  299,
                     306,  308,  310,  312,  314,  316,  318,  320,  323,  325,
                     327,  329,  331,  333,  335,  341,  345,  347,  350,  352,
                     354,  356,  358,  360,  362,  364,  366,  369,  371,  373,
                     375,  377,  379,  381,  383,  386,  389,  398,  401,  404,
                     407,  410,  414,  416,  426,  428,  432,  434,  439,  445,
                     457,  515,  546,  552,  559,  566,  571,  573,  646,  662,
                     668,  756,  867,  921, 1027, 1133, 1191, 1194, 1271, 1805,
                    1884, 1946, 1991, 2094, 2239, 2701, 2819, 2910, 2919, 2991,
                    2993, 3002, 3008, 3014, 3098, 3207, 3228, 3281, 3309, 3322,
                    3438, 3442, 3484, 3491, 3499, 3506, 3575, 3582, 3658, 4032)
         then fail(CONSTANT); endif;

      if PRESS notin (38,   51,   63,   85,  104,  109,  167,  173,  180,  185,
                     193,  199,  205,  207,  212,  224,  230,  236,  239,  242,
                     243,  249,  296,  333,  337,  345,  352,  386,  389,  432,
                    2701, 2819, 2910, 2919, 2991, 2993, 3002, 3008, 3014, 3098,
                    3207, 3228, 3281, 3309, 3322, 3438, 3442, 3484, 3491, 3499,
                    3506, 3575, 3582, 3658, 4032)
         then fail(EXPERIMENTAL);
      endif;

    endif;       ! SENSOR = IASI</code></pre><p>Here we provide two lists of IASI channels. The first list includes all those channels that are either used in the cloud detection, or are intended for active assimilation (or both). The second list is a subset of the first and includes just those intended for active assimilation. Only those channels included in the latter list will have a significant weight during the assimilation process.</p><p>The control for the cloud detection happens via namelist file at <code>nam/IASI_CLDDET.NL</code>. The format of the namelist file is illustrated below:</p><pre><code class="nohighlight hljs">&amp;NAMCLDDET
N__Band_Size(1)=145
N__Bands(1:145,1) =
  38,   49,   51,   55,   57,   61,   63,   83,   85,   87,
 104,  109,  111,  116,  122,  128,  135,  141,  146,  148,
 154,  159,  161,  167,  173,  179,  180,  185,  187,  193,
 199,  205,  207,  210,  212,  214,  217,  219,  222,  224,
 226,  230,  232,  236,  239,  242,  243,  246,  249,  252,
 254,  256,  258,  260,  262,  265,  267,  269,  275,  278,
 280,  282,  284,  286,  288,  290,  292,  294,  296,  299,
 306,  308,  310,  312,  314,  316,  318,  320,  323,  325,
 327,  329,  331,  333,  335,  341,  345,  347,  350,  352,
 354,  356,  358,  360,  362,  364,  366,  369,  371,  373,
 375,  377,  379,  381,  383,  386,  389,  398,  401,  404,
 407,  410,  414,  416,  426,  428,  432,  434,  439,  445,
 457,  515,  546,  552,  559,  566,  571,  573,  646,  662,
 668,  756,  867,  921, 1027, 1133, 1191, 1194, 1271, 1805,
1884, 1946, 1991, 2094, 2239
/</code></pre><p>Here we specify a list of 145 channels to be included in &quot;band 1&quot; of the cloud detection, i.e., in the main cloud detection channel band. The setup of the cloud detection involves not just the channel list but several additional tuning parameters that can be modified to make the screening more or less conservative. The default settings are specified in <code>src/arpifs/obs_preproc/cloud_detect_setup.F90</code>. A comprehensive description of the cloud detection scheme, including explanations of the various tuning parameter values, is given at the NWPSAF web site https://nwp-saf.eumetsat.int/site/software/aerosol-and-cloud-detection/documentation/.</p><p>Log file of the Screening task will indicate whether the formatting of the namelist file is appropriate:</p><pre><code class="nohighlight hljs"> READING CLOUD DETECTION FILE FOR IASI
 IASI  CLOUD DETECTION FILE READ OK</code></pre><p>In case of an error, the following is printed instead:</p><pre><code class="nohighlight hljs"> READING CLOUD DETECTION FILE FOR IASI
 PROBLEM READING IASI CLOUD DETECTION FILE: Using Default Values</code></pre><p>The third possibility is that the namelist file does not appear in the working directory, in which case the printout statement is this:</p><pre><code class="nohighlight hljs"> READING CLOUD DETECTION FILE FOR IASI
 NO IASI  CLOUD DETECTION FILE : Using Default Values</code></pre><p>Please note that the use of the &quot;Default Values&quot; is generally not a desired outcome. This is because many of the cloud detection channels in the default list (see <code>src/arpifs/obs_preproc/cloud_detect_setup.F90</code>) are sensitive to higher stratosphere and therefore may be severely affected by the relatively low model top of limited-area HARMONIE systems.</p><p>References:</p><p>McNally, AP, and PD Watts, 2003: A cloud detection algorithm for high-spectral-resolution infrared sounders. Quarterly Journal of the Royal Meteorological Society, 129, 3411-3423, doi:10.1256/qj.02.208.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Atovs/">« ATOVS</a><a class="docs-footer-nextpage" href="../Seviri/">SEVIRI »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.0.1 on <span class="colophon-date" title="Wednesday 24 January 2024 09:36">Wednesday 24 January 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
