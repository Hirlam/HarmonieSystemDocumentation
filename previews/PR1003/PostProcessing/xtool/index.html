<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>xtool · Harmonie wiki</title><meta name="title" content="xtool · Harmonie wiki"/><meta property="og:title" content="xtool · Harmonie wiki"/><meta property="twitter:title" content="xtool · Harmonie wiki"/><meta name="description" content="Documentation for Harmonie wiki."/><meta property="og:description" content="Documentation for Harmonie wiki."/><meta property="twitter:description" content="Documentation for Harmonie wiki."/><meta property="og:url" content="https://hirlam.github.io/HarmonieSystemDocumentation/dev/PostProcessing/xtool/"/><meta property="twitter:url" content="https://hirlam.github.io/HarmonieSystemDocumentation/dev/PostProcessing/xtool/"/><link rel="canonical" href="https://hirlam.github.io/HarmonieSystemDocumentation/dev/PostProcessing/xtool/"/><script async src="https://www.googletagmanager.com/gtag/js?id=G-HQ1BCP3LPJ"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HQ1BCP3LPJ', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Harmonie wiki logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Harmonie wiki</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../System/GitDeveloperDocumentation/">GitHub workflow</a></li><li><a class="tocitem" href="../../Overview/da_graph/">Graphical Overview</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on Atos</a></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Overview</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Overview/Content/">Content</a></li><li><a class="tocitem" href="../../Overview/Binaries/">Binaries</a></li><li><a class="tocitem" href="../../Overview/FileFormats/">File Formats</a></li><li><a class="tocitem" href="../../Overview/Source/">Source</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Experiment Configuration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ExperimentConfiguration/ConfigureYourExperiment/">Experiment</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/Namelists/">Namelist</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/UseofObservation/">Observations</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/PlatformConfiguration/">Platform</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/How_to_use_hires_topography/">HiRes Topography</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/ModelDomain/">Domain</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/VerticalGrid/">Vertical Grid</a></li></ul></li></ul></li><li><span class="tocitem">NWP Components</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Observations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1-1"><span class="docs-label">Preprocessing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Observations/ObservationPreprocessing/">Preprocessing</a></li><li><a class="tocitem" href="../../Observations/Oulan/">Oulan</a></li><li><a class="tocitem" href="../../Observations/Bator/">Bator</a></li><li><a class="tocitem" href="../../Observations/Cope/">Cope</a></li><li><a class="tocitem" href="../../Observations/ObservationData/">ObservationData</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-1-2" type="checkbox"/><label class="tocitem" for="menuitem-3-1-2"><span class="docs-label">How to</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Observations/SYNOP/">SYNOP</a></li><li><a class="tocitem" href="../../Observations/Amv/">AMV</a></li><li><a class="tocitem" href="../../Observations/Atovs/">ATOVS</a></li><li><a class="tocitem" href="../../Observations/Iasi/">IASI</a></li><li><a class="tocitem" href="../../Observations/Seviri/">SEVIRI</a></li><li><a class="tocitem" href="../../Observations/Scatt/">Scatt</a></li><li><a class="tocitem" href="../../Observations/Ascat/">AScat</a></li><li><a class="tocitem" href="../../Observations/GNSS/">GNSS</a></li><li><a class="tocitem" href="../../Observations/Modes/">Modes</a></li><li><a class="tocitem" href="../../Observations/RadarData/">Radar</a></li><li><a class="tocitem" href="../../Observations/Aeolus/">Aeolus</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Data Assimilation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-2-1" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1"><span class="docs-label">Surface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI/">CANARI</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_OI_MAIN/">CANARI OI MAIN</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_EKF_SURFEX/">CANARI EKF SURFEX</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/SurfaceAnalysis/">Surface Analysis</a></li></ul></li><li><a class="tocitem" href="../../DataAssimilation/Screening/">Screening</a></li><li><a class="tocitem" href="../../DataAssimilation/StructureFunctions/">Structure functions</a></li><li><a class="tocitem" href="../../DataAssimilation/DaAlgorithms/">Algorithms</a></li><li><a class="tocitem" href="../../DataAssimilation/DigitalFilterInitialization/">Digital Filter Initialization</a></li><li><a class="tocitem" href="../../DataAssimilation/ObservationOperators/">HOP_DRIVER</a></li><li><a class="tocitem" href="../../DataAssimilation/SingleObs/">Single Obs</a></li><li><a class="tocitem" href="../../DataAssimilation/LSMIXandJk/">LSMIX and Jk</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Diagnostics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-3-1"><span class="docs-label">Data Assimilation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/DFS/">DFS</a></li><li><a class="tocitem" href="../../DataAssimilation/MTEN/">MTEN</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-3-2"><span class="docs-label">Forecast(spin-up)</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/CHKEVO/">CHKEVO</a></li><li><a class="tocitem" href="../../DataAssimilation/NWECHKEVO/">NWECHKEVO</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Boundaries</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Boundaries/BoundaryFilePreparation/">Preparation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Forecast Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ForecastModel/Forecast/">Forecast</a></li><li><a class="tocitem" href="../../ForecastModel/ForecastSettings/">Settings</a></li><li><a class="tocitem" href="../../ForecastModel/Outputlist/">Output List</a></li><li><a class="tocitem" href="../../ForecastModel/HR/">High Res</a></li><li><input class="collapse-toggle" id="menuitem-3-5-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5-5"><span class="docs-label">Single Column Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC/">MUSC</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/Forcing/">Forcing</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC_EMS/">MUSC EMS</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC_vars/">MUSC vars</a></li></ul></li><li><a class="tocitem" href="../../ForecastModel/WindFarms/">Wind Farm Parameterisation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">Climate Generation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ClimateGeneration/ClimateGeneration/">Climate Generation</a></li><li><a class="tocitem" href="../../ClimateGeneration/DownloadInputData/">Input Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-7" type="checkbox"/><label class="tocitem" for="menuitem-3-7"><span class="docs-label">EPS</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../EPS/Howto/">Howto</a></li><li><a class="tocitem" href="../../EPS/System/">System</a></li><li><a class="tocitem" href="../../EPS/BDSTRATEGY/">BDSTRATEGY</a></li><li><a class="tocitem" href="../../EPS/SLAF/">SLAF</a></li><li><a class="tocitem" href="../../EPS/SPP/">SPP</a></li><li><a class="tocitem" href="../../EPS/SPPT/">SPPT</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-8" type="checkbox" checked/><label class="tocitem" for="menuitem-3-8"><span class="docs-label">Post Processing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../FileConversions/">FileConversions</a></li><li><a class="tocitem" href="../Fullpos/">FullPos</a></li><li><a class="tocitem" href="../gl/">GL</a></li><li class="is-active"><a class="tocitem" href>xtool</a><ul class="internal"><li><a class="tocitem" href="#DIFF"><span>DIFF</span></a></li><li><a class="tocitem" href="#SAL"><span>SAL</span></a></li></ul></li><li><a class="tocitem" href="../Interpolation/">Interpolation GL</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-9" type="checkbox"/><label class="tocitem" for="menuitem-3-9"><span class="docs-label">Verification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Verification/Extract4verification/">Extract4verification</a></li><li><a class="tocitem" href="../../Verification/Verification/">Verification</a></li><li><a class="tocitem" href="../../Verification/HARP/">HARP</a></li><li><a class="tocitem" href="../../Verification/Obsmon/">Obsmon</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-10" type="checkbox"/><label class="tocitem" for="menuitem-3-10"><span class="docs-label">Visualization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Visualization/EPyGrAM/">EpyGram</a></li></ul></li></ul></li><li><span class="tocitem">System</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Build</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Build/Build_with_cmake/">CMake</a></li><li><a class="tocitem" href="../../Build/Build_with_makeup/">Makeup</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Phasing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../System/MFaccess/">MF Access</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Suite Management</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../SuiteManagement/ECFLOW/">ECFLOW</a></li></ul></li><li><a class="tocitem" href="../../System/TheHarmonieScript/">The Harmonie script</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on ECMWF&#39;s Atos</a></li><li><a class="tocitem" href="../../System/ReleaseProcess/">Harmonie release process</a></li><li><a class="tocitem" href="../../System/Local/QuickStartLocal/">Local</a></li><li><a class="tocitem" href="../../System/HarmonieTestbed/">Testbed</a></li><li><a class="tocitem" href="../../System/ECMWF/ECMWF_teleport/">Teleport</a></li><li><a class="tocitem" href="../../System/Build_local_docs/">Local Documentation</a></li><li><a class="tocitem" href="../../System/DrHook/">DrHook</a></li><li><a class="tocitem" href="../../System/StandaloneOdb/">Stand alone ODB</a></li><li><a class="tocitem" href="../../System/UpdateNamelists/">Update Namelist</a></li></ul></li><li><a class="tocitem" href="../../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">NWP Components</a></li><li><a class="is-disabled">Post Processing</a></li><li class="is-active"><a href>xtool</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>xtool</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Hirlam/Harmonie" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Hirlam/Harmonie/blob/dev-CY46h1/docs/src/PostProcessing/xtool.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="xtool"><a class="docs-heading-anchor" href="#xtool">xtool</a><a id="xtool-1"></a><a class="docs-heading-anchor-permalink" href="#xtool" title="Permalink"></a></h1><p><strong>Xtool</strong>, part of the <strong>gl</strong> package, provides a utility to calculate differences between GRIB/FA files and produce the result in a new GRIB/NetCDF file. See xtool part of <code>util/gl/README</code>. The main commands are:</p><pre><code class="language-bash hljs"> 
                          xtool                                 
 
 Simple usage:                                                  
  xtool -f1 FILE1 [ -fN FILEN] -op OPERATOR [ -o OFILE]       
  i.e. apply OPERATOR on FILEN and output to OFILE              
  operator is one of SUM/DIFF/AVE/STDV/RMS/MS                      
  1 file : SUM/AVE/SQR                                          
  2 files: SUM/AVE/PROD/DIFF/RMSE/STDV/SAL                      
  3 files: DIFF/SAL                                             
 
 Accumulated usage:                                             
  xtool -sdtg1 YYYYMMDDHH -edtg1 YYYYMMDDHH -ll1 LLL -ll2 LLL \ 
        -p1 PATH1 -p2 PATH2 -fcint HH -op OPERATOR              
  i.e. accumulate OPERATOR on FILE1 and FILE2 during the period 
  sdtg1 to edtg1 with step of fcint.                            
  sdtg2/edtg2=sdtg1/edtg2 - (LL1-LL2) unless given              
 
 Time information in the path should be given as                
  -p1 /data/test/fc@YYYY@@MM@@DD@@HH@+@LLL@ or something like   
  -p2 /data/@YYYY@/@MM@/@DD@/@HH@/fc@YYYY@@MM@@DD@_@HH@+@LLL@   
 
 Different parameters can be compared by using the xkey         
 variable in the namelist                                       
 
 Flag summary :                                                 
  -h                : Print this help                           
  -fN FILE          : Single file name                          
  -pN PATH          : Path name                                 
  -sdtgN YYYYMMDDHH : Start date/time                           
  -edtgN YYYYMMDDHH : End date/time                             
  -llN LLL          : Forecast length to use                    
  -fcint HH         : Forecast cycle interval in hours          
  -iN               : format of the input file GRIB/FA          
  -s                : Run silent                                
  -of               : Output format GRIB/FA/NETCDF/SCREEN       
  -g                : Prints ksec/cadre/lfi info                
  -p                : Use FA file without extension zone        
  -f                : Global FA switch                          
  -a FILE           : Accumulation file to be read              
  -n namelist       : Use namelist to set additional options    
  -igd              : Set lignore_duplicates=F                  
  -r VALUE          : Rescale the output with a constant VALUE  
 </code></pre><h2 id="DIFF"><a class="docs-heading-anchor" href="#DIFF">DIFF</a><a id="DIFF-1"></a><a class="docs-heading-anchor-permalink" href="#DIFF" title="Permalink"></a></h2><p>One of the things xtool is useful for is to check if the result from two different experiments differ. This is done by applying the DIFF operator and writing the output to the screen like</p><pre><code class="language-bash hljs"> xtool [-f] -f1 FILE1 -f2 FILE2 -of SCREEN</code></pre><p>The is heavily used in the <a href="../../System/HarmonieTestbed/#testbed">Harmonie testbed</a> to check the difference between versions of the system.</p><p>Below is a simple example of how to use <strong>xtool</strong>. You may also check <code>scr/Fldver</code> to find examples. </p><p>What is the difference between +24h and +48h MSLP forecasts during August 2008?</p><ol><li><p>Namelist for <strong>xtool</strong>, which lists the parameters (here mean sea level pressure) to be examined:</p><pre><code class="language-bash hljs">&amp;NAMINTERP
  PPPKEY%ppp = 001,
  PPPKEY%lll = 000,
  PPPKEY%ttt = 103,
/</code></pre></li><li><p>Run xtool.</p><pre><code class="language-bash hljs">xtool -sdtg1 2008080100 -edtg1 2008083000 -ll1 48 \
      -sdtg2 2008073100 -edtg2 2008082900 -ll2 24 \
      -p1 /your_model_data/YYYY/MM/HH/fcYYYYMMDD_HH+LLL \
      -p2 /your_model_data/YYYY/MM/HH/fcYYYYMMDD_HH+LLL \
      -fcint 6 -op DIFF -n your_namelist \
      -o output.grb</code></pre><ul><li><code>-sdtg1</code>, <code>-edtg1</code>, <code>-ll1</code>: The cycles to look for the +48h forecast.</li><li><code>-sdtg2</code>, <code>-edtg2</code>, <code>-ll2</code>: The cycles to look for the +24h forecast.</li><li><code>-p1</code>, <code>-p2</code>: Naming rules for the files in cycle 1 and 2, respectively.</li><li><code>-fcint</code>: Interval between forecast cycles.</li><li><code>-op</code>: Operation to be applied. Possible choices <code>DIFF</code>, <code>SUM</code>, <code>AVE</code>, <code>STDV</code> or <code>SAL</code></li><li><code>-n</code>: Namelist file.</li><li><code>-o</code>: Name of the output grib file.</li></ul></li><li><p>Output file (<code>output.grb</code>) now contains one 2D-field with accumulated 48-24h difference of mean sea level pressure.  </p></li></ol><h3 id="Deaccumulate-with-xtool,-setting-outkey%startstep"><a class="docs-heading-anchor" href="#Deaccumulate-with-xtool,-setting-outkey%startstep">Deaccumulate with xtool, setting outkey%startstep</a><a id="Deaccumulate-with-xtool,-setting-outkey%startstep-1"></a><a class="docs-heading-anchor-permalink" href="#Deaccumulate-with-xtool,-setting-outkey%startstep" title="Permalink"></a></h3><p>Accumulated fields, with tri=4, such as precipitation and radiation fields, are accumulated from the start of a cycle. Often it is more interesting to know for example the hourly amount. This can be also be done with xtool DIFF, using the steps below, assuming regular 1h output intervals:</p><ol><li>The first output file (+0h) does not contain accumulated fields, so skip that one</li><li>The second file contains the amount between 0 and 1, so no need to subtract, simple convert with gl</li><li>For all consecutive steps use xtool, e.g.:</li></ol><pre><code class="language-bash hljs">    xtool -f -f1 $infile -f2 $infile_prev -op DIFF -of NETCDF -n $def_nam -igd</code></pre><p>This subtracts the fields in <code>$infile_prev</code> from those in <code>$infile</code>. The namelist file should contain at least the names of the accumulated fields to use and the outkey parameters:</p><pre><code class="nohighlight hljs">&amp;naminterp
readkey%name = &quot;YOUR_ACCUM_FIELD&quot;,
outkey%date = $YMD
outkey%time = ${HH}00
outkey%startstep = $FF
outkey%endstep = $FF_prev
/</code></pre><p>where <code>$YMD</code> and <code>$HH</code> are the start of your cycle, <code>$FF</code> is the step of <code>$infile</code> and <code>$FF_prev</code> of the previous file. For example to calculate the amount of rain between hour 7 and 8 of a forecast started at 2017030300 use:</p><pre><code class="language-bash hljs">xtool -f -f1 ICMSHHARM+0008 -f2 ICMSHHARM+0007 -op DIFF -of NETCDF -n $def_nam -igd</code></pre><p>def_nam contains:</p><pre><code class="nohighlight hljs">&amp;naminterp
readkey%name = &quot;SURFACCPLUIE&quot;,
outkey%date = 20170303
outkey%time = 0000
outkey%endstep = 8
outkey%startstep = 7
/</code></pre><p>This is used <code>scr/convertFA</code> to deaccumulate fields to NetCDF for climate simulations.</p><h2 id="SAL"><a class="docs-heading-anchor" href="#SAL">SAL</a><a id="SAL-1"></a><a class="docs-heading-anchor-permalink" href="#SAL" title="Permalink"></a></h2><p><strong>S</strong>tructure <strong>A</strong>mplitude <strong>L</strong>ocation (<strong>SAL</strong>) is object based quality measure for the verification of QPFs (<a href="https://journals.ametsoc.org/view/journals/mwre/136/11/2008mwr2415.1.xml">Wernli et al., 2008</a>). <strong>SAL</strong> contains three independent components that focus on Structure, Amplitude and Location of the precipitation field in a specified domain. </p><ul><li><p><strong>S</strong>: Measure of structure of the precipitation area (-2 - +2). Large <strong>S</strong>, if model predicts too large precipitation areas.</p></li><li><p><strong>A</strong>: Measure of strength of the precipitation (-2 - +2). Large <strong>A</strong>, if model predicts too intense precipitation.</p></li><li><p><strong>L</strong>: Measure of location of the precipitation object (0 - +2). Large <strong>L</strong>, if modelled precipitation objects are far from the observed conterparts. </p></li><li><p><strong>SAL</strong> can be activated in <code>xtool</code> by using <code>-op SAL</code> option. e.g.</p><pre><code class="language-bash hljs"> xtool -f1 model.grib -f2 observation.grib -op SAL -n namelist</code></pre></li><li><p>Output of the <strong>SAL</strong> are 2 simple ascii-files:</p><ol><li><code>scatter_plot.dat</code> containing date, <strong>S</strong>,<strong>A</strong> and <strong>L</strong> parameters.</li><li><code>sal_output.dat</code> containing more detailed statistics collected during the verification (location of center of mass, number of objects, measure of object size etc.).</li></ol></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../gl/">« GL</a><a class="docs-footer-nextpage" href="../Interpolation/">Interpolation GL »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.0.1 on <span class="colophon-date" title="Monday 22 January 2024 13:43">Monday 22 January 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
