<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>FullPos · Harmonie wiki</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-221448594-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-221448594-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://hirlam.github.io/HarmonieSystemDocumentation/dev/PostProcessing/Fullpos/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Harmonie wiki logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Harmonie wiki</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../System/GitDeveloperDocumentation/">GitHub workflow</a></li><li><a class="tocitem" href="../../Overview/da_graph/">Graphical Overview</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on Atos</a></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Overview</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Overview/Content/">Content</a></li><li><a class="tocitem" href="../../Overview/Binaries/">Binaries</a></li><li><a class="tocitem" href="../../Overview/FileFormats/">File Formats</a></li><li><a class="tocitem" href="../../Overview/Source/">Source</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Experiment Configuration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ExperimentConfiguration/ConfigureYourExperiment/">Experiment</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/Namelists/">Namelist</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/UseofObservation/">Observations</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/PlatformConfiguration/">Platform</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/How_to_use_hires_topography/">HiRes Topography</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/ModelDomain/">Domain</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/VerticalGrid/">Vertical Grid</a></li></ul></li></ul></li><li><span class="tocitem">NWP Components</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Observations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1-1"><span class="docs-label">Preprocessing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Observations/ObservationPreprocessing/">Preprocessing</a></li><li><a class="tocitem" href="../../Observations/Oulan/">Oulan</a></li><li><a class="tocitem" href="../../Observations/Bator/">Bator</a></li><li><a class="tocitem" href="../../Observations/Cope/">Cope</a></li><li><a class="tocitem" href="../../Observations/ObservationData/">ObservationData</a></li><li><a class="tocitem" href="../../Observations/Conrad/">Conrad</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-1-2" type="checkbox"/><label class="tocitem" for="menuitem-3-1-2"><span class="docs-label">How to</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Observations/SYNOP/">SYNOP</a></li><li><a class="tocitem" href="../../Observations/Amv/">AMV</a></li><li><a class="tocitem" href="../../Observations/Iasi/">IASI</a></li><li><a class="tocitem" href="../../Observations/Atovs/">ATOVS</a></li><li><a class="tocitem" href="../../Observations/Scatt/">Scatt</a></li><li><a class="tocitem" href="../../Observations/Ascat/">AScat</a></li><li><a class="tocitem" href="../../Observations/GNSS/">GNSS</a></li><li><a class="tocitem" href="../../Observations/Modes/">Modes</a></li><li><a class="tocitem" href="../../Observations/RadarData/">Radar</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Data Assimilation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-2-1" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1"><span class="docs-label">Surface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI/">CANARI</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_OI_MAIN/">CANARI OI MAIN</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_EKF_SURFEX/">CANARI EKF SURFEX</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/SurfaceAnalysis/">Surface Analysis</a></li></ul></li><li><a class="tocitem" href="../../DataAssimilation/Screening/">Screening</a></li><li><a class="tocitem" href="../../DataAssimilation/StructureFunctions/">Structure functions</a></li><li><a class="tocitem" href="../../DataAssimilation/DataAssimilation4DVAR/">4DVAR</a></li><li><a class="tocitem" href="../../DataAssimilation/DigitalFilterInitialization/">Digital Filter Initialization</a></li><li><a class="tocitem" href="../../DataAssimilation/ObservationOperators/">HOP_DRIVER</a></li><li><a class="tocitem" href="../../DataAssimilation/SingleObs/">Single Obs</a></li><li><a class="tocitem" href="../../DataAssimilation/LSMIXandJk/">LSMIX and Jk</a></li><li><a class="tocitem" href="../../DataAssimilation/DFS/">DFS</a></li><li><a class="tocitem" href="../../DataAssimilation/MTEN/">MTEN</a></li><li><a class="tocitem" href="../../DataAssimilation/CHKEVO/">CHKEVO</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Boundaries</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Boundaries/BoundaryFilePreparation/">Preparation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Forecast Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ForecastModel/Forecast/">Forecast</a></li><li><a class="tocitem" href="../../ForecastModel/Outputlist/">Output List</a></li><li><a class="tocitem" href="../../ForecastModel/HR/">High Res</a></li><li><input class="collapse-toggle" id="menuitem-3-4-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4-4"><span class="docs-label">Single Column Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC/">MUSC</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/Forcing/">Forcing</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC_vars/">MUSC vars</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Climate Generation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ClimateGeneration/ClimateGeneration/">Climate Generation</a></li><li><a class="tocitem" href="../../ClimateGeneration/DownloadInputData/">Input Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">EPS</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../EPS/Howto/">Howto</a></li><li><a class="tocitem" href="../../EPS/System/">System</a></li><li><a class="tocitem" href="../../EPS/BDSTRATEGY/">BDSTRATEGY</a></li><li><a class="tocitem" href="../../EPS/SLAF/">SLAF</a></li><li><a class="tocitem" href="../../EPS/SPP/">SPP</a></li><li><a class="tocitem" href="../../EPS/SPPT/">SPPT</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-7" type="checkbox" checked/><label class="tocitem" for="menuitem-3-7"><span class="docs-label">Post Processing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../FileConversions/">FileConversions</a></li><li class="is-active"><a class="tocitem" href>FullPos</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#ecf/config_exp.h"><span><code>ecf/config_exp.h</code></span></a></li><li><a class="tocitem" href="#FULL-POS"><span>FULL-POS</span></a></li><li><a class="tocitem" href="#Parameter-selection"><span>Parameter selection</span></a></li><li><a class="tocitem" href="#Add-new-output"><span>Add new output</span></a></li><li><a class="tocitem" href="#Expert-users"><span>Expert users</span></a></li><li><a class="tocitem" href="#Problems"><span>Problems</span></a></li></ul></li><li><a class="tocitem" href="../gl/">GL</a></li><li><a class="tocitem" href="../xtool/">xtool</a></li><li><a class="tocitem" href="../PostPP/">PostPP</a></li><li><a class="tocitem" href="../Interpolation/">Interpolation GL</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-8" type="checkbox"/><label class="tocitem" for="menuitem-3-8"><span class="docs-label">Verification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Verification/Extract4verification/">Extract4verification</a></li><li><a class="tocitem" href="../../Verification/Verification/">Verification</a></li><li><a class="tocitem" href="../../Verification/HARP/">HARP</a></li><li><a class="tocitem" href="../../Verification/Obsmon/">Obsmon</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-9" type="checkbox"/><label class="tocitem" for="menuitem-3-9"><span class="docs-label">Visualization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Visualization/EPyGrAM/">EpyGram</a></li></ul></li></ul></li><li><span class="tocitem">System</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Build</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Build/General/">Software requirements</a></li><li><a class="tocitem" href="../../Build/Build_with_makeup/">Makeup</a></li><li><a class="tocitem" href="../../Build/Build_with_cmake/">CMake</a></li><li><a class="tocitem" href="../../Build/gmkpack/">Gmkpack</a></li><li><a class="tocitem" href="../../Build/Gmkpack_vs_Make/">Gmkpack vs Make</a></li><li><a class="tocitem" href="../../Build/CompileHarmonie/">Compile Harmonie</a></li><li><a class="tocitem" href="../../Build/Installation/">Installation</a></li><li><a class="tocitem" href="../../Build/Redhat7Install/">Redhat7 Install</a></li><li><a class="tocitem" href="../../Build/Centos6Install/">Centos6 Install</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Phasing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../System/MFaccess/">MF Access</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Suite Management</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../SuiteManagement/ECFLOW/">ECFLOW</a></li></ul></li><li><a class="tocitem" href="../../System/TheHarmonieScript/">The Harmonie script</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on ECMWF&#39;s Atos</a></li><li><a class="tocitem" href="../../System/ECMWF/Fast_start_on_cca/">Fast start on cca</a></li><li><a class="tocitem" href="../../System/Local/QuickStartLocal/">Local</a></li><li><a class="tocitem" href="../../System/HarmonieTestbed/">Testbed</a></li><li><a class="tocitem" href="../../System/ECMWF/ECMWF_teleport/">Teleport</a></li><li><a class="tocitem" href="../../System/Build_local_docs/">Local Documentation</a></li><li><a class="tocitem" href="../../System/DrHook/">DrHook</a></li><li><a class="tocitem" href="../../System/StandaloneOdb/">Stand alone ODB</a></li><li><a class="tocitem" href="../../System/UpdateNamelists/">Update Namelist</a></li><li><a class="tocitem" href="../../System/Scalability_and_Refactoring/">Scalability and refactoring</a></li><li><a class="tocitem" href="../../System/HarmonieBenchMark/">Benchmark</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">NWP Components</a></li><li><a class="is-disabled">Post Processing</a></li><li class="is-active"><a href>FullPos</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>FullPos</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Hirlam/Harmonie/blob/dev-CY46h1/docs/src/PostProcessing/Fullpos.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Postprocessing-with-FULL-POS"><a class="docs-heading-anchor" href="#Postprocessing-with-FULL-POS">Postprocessing with FULL-POS</a><a id="Postprocessing-with-FULL-POS-1"></a><a class="docs-heading-anchor-permalink" href="#Postprocessing-with-FULL-POS" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>FULL-POS is a powerful postprocessing package, which is part of the  common ARPEGE/IFS cycle. FULL-POS is documented by </p><ul><li><a href="http://www.cnrm.meteo.fr/gmapdoc/spip.php?article157">Yessad (2011)</a>: This documentation describes the software FULL-POS doing post-processing on different kind of vertical levels. In particular, post-processable variables and organigramme are given. Some aspects of horizontal and vertical interpolators (which may be used in some other applications) are also described.</li><li><a href="http://www.cnrm.meteo.fr/gmapdoc/IMG/pdf/ykfpos38.pdf">ykfpos38.pdf</a>: FULL-POS in cycle 38</li><li><a href="http://www.cnrm.meteo.fr/gmapdoc/spip.php?article17">El Khatib (2002)</a>: Older documentation with a link to an old FULL-POS website.</li></ul><p>FULL-POS is a special configuration (9xx) of the full model for setup and initialization. In other words it is a 0 hour forecast, with extra namelist settings for variables to (post)process and to write out. When generating initial or boundary files we are calling a special configuration of FULL-POS, e927.</p><h2 id="ecf/config_exp.h"><a class="docs-heading-anchor" href="#ecf/config_exp.h"><code>ecf/config_exp.h</code></a><a id="ecf/config_exp.h-1"></a><a class="docs-heading-anchor-permalink" href="#ecf/config_exp.h" title="Permalink"></a></h2><p>The use of FULL-POS is controlled by the <code>POSTP</code> variable in<code>ecf/config_exp.h</code>:</p><pre><code class="language-bash hljs">POSTP=&quot;inline&quot;                          # Postprocessing by Fullpos (inline|offline|none).
                                        # See Setup_postp.pl for selection of fields.
                                        # inline: this is run inside of the forecast
                                        # offline: this is run in parallel to the forecast in a separate task</code></pre><p><code>inline</code> is the default which means FULL-POS postprocessing is called from the forecast model as it runs. If you select <code>offline</code> the model is called independently of the running forecast model using the forecast model output files as inputs to be postprocessed. By selecting <code>none</code> no FULL-POS postprocessing will be carried out.</p><p>Output frequency by FULL-POS is controlled by <code>PWRITUPTIMES</code>, <code>FPOUTINT</code> and <code>FREQ_RESET</code>:</p><pre><code class="language-bash hljs"># Postprocessing times (space separated list)
PWRITUPTIMES=&quot;03 06 09 12 15 18 21 24 30 36 42 48 54 60&quot;
FPOUTINT=&quot;-1&quot;                           # Regular  interval if &gt; 0. Not used if &lt;= 0.

FREQ_RESET=3                            # Reset frequency of max/min values in hours, controls NRAZTS</code></pre><h2 id="FULL-POS"><a class="docs-heading-anchor" href="#FULL-POS">FULL-POS</a><a id="FULL-POS-1"></a><a class="docs-heading-anchor-permalink" href="#FULL-POS" title="Permalink"></a></h2><p>The use of FULL-POS is controlled by the following namelists: <code>NAMFPPHY</code>, <code>NAMFPDY2</code>, <code>NAMFPDYP</code>, <code>NAMFPDYH</code>, <code>NAMFPDYI</code>, <code>NAMFPDYV</code>, <code>NAMFPDYT</code> and <code>NAMFPDYS</code>. These namelists can be used to make an accurate list of post- processed fields. It is possible to call FULL-POS when running the model. In such a configuration we can configure HARMONIE to write some parameters with a different frequency than the standard historical files produced. </p><p>However, with <code>inline</code> postprocessing, it is possible to get, at each post-processing time step, exactly the fields you wish. In this case, you have to make other namelists file which will contain the selection of the fields you wish to get. First, you have to set in <code>NAMCT0</code> the variable <code>CNPPATH</code> as the directory where the selection files will be. Under this directory, the name of a selection file must be <code>xxtDDDDHHMM</code>, where <code>DDDDHHMM</code> specifies the date/time of the post-processing time step.</p><p>The <a href="../PostPP/">Postpp</a> script executes the <code>offline</code> FULL-POS postprocessing in HARMONIE system. </p><p>The management of FULL-POS and the creation of selection files is made easier for the user by <code>scr/Select_postp.pl</code>. </p><h2 id="Parameter-selection"><a class="docs-heading-anchor" href="#Parameter-selection">Parameter selection</a><a id="Parameter-selection-1"></a><a class="docs-heading-anchor-permalink" href="#Parameter-selection" title="Permalink"></a></h2><p>Some of the more relevant entries in this script:</p><ul><li><strong>CFP2DF</strong>: names of the 2D dynamics fields to be post-processed. Names have at maximum 16 characters. By default CFP2DF contains blanks (no 2D dynamical field to post-process).</li><li><strong>CFP3DF</strong>: names of the 3D dynamics fields to be post-processed. Names have at maximum 12 characters. By default CFP3DF contains blanks (no 3D dynamical field to post-process).</li><li><strong>CFPPHY</strong>: names of the physical fields to be post-processed. Names have at maximum 16 characters. By default CFPPHY contains blanks (no physical field to post-process). </li><li><strong>CFPXFU</strong>:  names of the instantaneous fluxes fields to be post-processed. Names have at maximum 16 characters. By default CFPXFU contains blanks (no instantaneous fluxes field to post-process).</li><li><strong>CFPCFU</strong>: names of the cumulated fluxes fields to be post-processed. Names have at maximum 16 characters. By default CFPCFU contains blanks (no cumulated fluxes field to post-process).</li></ul><p>You can define the levels you wish to output using the following variable:</p><ul><li><strong>NRFP3S</strong>: model levels to postprocess</li><li><strong>RFP3H</strong>: height above ground levels to postprocess</li><li><strong>RFP3P</strong>: pressure levels to postprocess</li><li><strong>RFP3PV</strong>: PV levels to postprocess</li><li><strong>RFP3I</strong>: temperature levels to postprocess</li></ul><h2 id="Add-new-output"><a class="docs-heading-anchor" href="#Add-new-output">Add new output</a><a id="Add-new-output-1"></a><a class="docs-heading-anchor-permalink" href="#Add-new-output" title="Permalink"></a></h2><p>This section provides a simple example on how to add a new parameter/vertical level for postprocessing in <code>scr/Select_postp.pl</code>.</p><p>To add new &quot;height above ground&quot; output at 150m to the FULL-POS output, two changes are required:</p><ul><li>Add the new height, 150., to the <code>RFP3H</code> array</li><li>Add level array number to the <code>@namfpdyh_lev</code> level selection</li></ul><pre><code class="language-bash hljs">cd $HOME/hm_home/levexp
$PATH_TO_HARMONIE/config-sh/Harmonie co scr/Select_postp.pl
cp scr/Select_postp.pl scr/Select_postp.pl.ori
### edit scr/Select_postp.pl
diff scr/Select_postp.pl scr/Select_postp.pl.ori
83c83
&lt;  RFP3H =&gt; [&#39;20.&#39;,&#39;50.&#39;,&#39;100.&#39;,&#39;150.&#39;,&#39;250.&#39;,&#39;500.&#39;,&#39;750.&#39;,&#39;1000.&#39;,&#39;1250.&#39;,&#39;1500.&#39;,&#39;2000.&#39;,&#39;2500.&#39;,&#39;3000.&#39;],
---
&gt;  RFP3H =&gt; [&#39;20.&#39;,&#39;50.&#39;,&#39;100.&#39;,&#39;250.&#39;,&#39;500.&#39;,&#39;750.&#39;,&#39;1000.&#39;,&#39;1250.&#39;,&#39;1500.&#39;,&#39;2000.&#39;,&#39;2500.&#39;,&#39;3000.&#39;],
132c132
&lt;  @namfpdyh_lev = (1,2,3,4,5,6,7,8,9,10,11,12,13) ;
---
&gt;  @namfpdyh_lev = (1,2,3,4,5,6,7,8,9,10,11,12) ;</code></pre><h2 id="Expert-users"><a class="docs-heading-anchor" href="#Expert-users">Expert users</a><a id="Expert-users-1"></a><a class="docs-heading-anchor-permalink" href="#Expert-users" title="Permalink"></a></h2><p>In the FULL-POS namelist <code>NAMFPC</code> (variables explained in <code>src/arp/module/yomfpc.F90</code>), the variables are placed into different categories:</p><ul><li><code>LFPCAPEX</code>: if true XFU fields used for CAPE and CIN computation (with <code>NFPCAPE</code>).</li><li><code>LFPMOIS</code>: month allowed for climatology usage:<ul><li>.F. =&gt; month of the model (forecast).</li><li>.T. =&gt; month of the file.</li></ul></li><li><code>NFPCLI</code>:  usage level for climatology:<ul><li>0: no climatology</li><li>1: orography and land-sea mask of output only</li><li>2: all available climatological fields of the current month</li><li>3: shifting mean from the climatological fields of the current month to the ones of the closest month</li></ul></li><li><code>NFPCAPE</code>: kind of computation for CAPE and CIN:<ul><li>1 =&gt; from bottom model layer</li><li>2 =&gt; from the most unstable layer</li><li>3 =&gt; from mto standard height (2 meters) as recomputed values</li><li>4 =&gt; from mto standard height (2 meters) out of fluxes (for analysis)</li></ul></li><li>CFPFMT:  format of the output files, can take the following values:<ul><li>’MODEL’ for output in spherical harmonics.</li><li>’GAUSS’ for output in grid-point space on Gaussian grid (covering the global sphere).</li><li>’LELAM’ for output on a grid of kind <code>ALADIN</code> (spectral or grid-point coefficients).</li><li>’LALON’ for a grid of kind &quot;latitudes * longitudes&quot;.</li></ul>Default is ’GAUSS’ in ARPEGE/IFS, ’LELAM’ in ALADIN.</li><li>CFPDOM: names of the subdomains. Names have at maximum 7 characters.<ul><li>If <code>CFPFMT=’GAUSS’</code> or <code>’LELAM’</code> only one output domain is allowed.</li><li>If <code>CFPFMT=’LALON’</code> the maximum of output subdomains allowed is 10.</li></ul>By default, one output domain is requested, <code>CFPDOM(1)=’000’</code> and <code>CFPDOM(i)=’’ for i&gt;1</code>.</li><li><code>L_READ_MODEL_DATE</code>:  if: <code>.TRUE.</code> read date from the model</li></ul><p>The default FA-names for parameters in different categories can be found from <code>src/arp/setup/suafn1.F90</code> L687.</p><p>It&#39;s worth mentioning some of the variables postprocessed by FULL-POS</p><ul><li>True vertical velocity w [VW].  (for NH ALADIN only).</li><li>Potential vorticity P V [PV].</li><li>Pressure coordinate vertical velocity ω [VV].</li><li>Eta coordinate vertical velocity η [ETAD].</li><li>Absolute vorticity ζ + f [ABS].</li><li>Relative vorticity ζ [VOR].</li><li>Divergence D [DIV].</li><li>Satellite equivalents<ul><li>MSAT7 MVIRI channels 1 and 2 ([MSAT7C1] and [MSAT7C2]).</li><li>MSAT8 MVIRI channels 1 to 8 ([MSAT8C1] to [MSAT8C8]).</li><li>MSAT9 MVIRI channels 1 to 8 ([MSAT9C1] to [MSAT9C8]).</li><li>GOES11 IMAGER channels 1 to 4 ([GOES11C1] to [GOES11C4]).</li><li>GOES12 IMAGER channels 1 to 4 ([GOES12C1] to [GOES12C4]).</li><li>MTSAT1 IMAGER channels 1 to 4 ([MTSAT1C1] to [MTSAT1C4]).</li></ul></li></ul><h2 id="Problems"><a class="docs-heading-anchor" href="#Problems">Problems</a><a id="Problems-1"></a><a class="docs-heading-anchor-permalink" href="#Problems" title="Permalink"></a></h2><p>Problems may be encountered with FULL-POS when running on large domains. Here are some things to look out for:</p><ul><li>Increase the <code>MBX_SIZE</code> if you run out of MPI buffer space. </li><li>Increase number of cores if you run out of memory.</li><li>Make sure <code>NFPROMA</code> and <code>NFPROMA_DEP</code> are small and equal to <code>NPROMA</code>.</li><li>Set <code>NSTRIN=NSTROUT=NPROC</code> in <code>nampar0</code> if one of the above mentioned doesn&#39;t help.</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../FileConversions/">« FileConversions</a><a class="docs-footer-nextpage" href="../gl/">GL »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Friday 16 September 2022 14:20">Friday 16 September 2022</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
