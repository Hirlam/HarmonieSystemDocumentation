<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Oulan · Harmonie wiki</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-221448594-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-221448594-1', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://hirlam.github.io/HarmonieSystemDocumentation/dev/Observations/Oulan/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Harmonie wiki logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Harmonie wiki</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../System/GitDeveloperDocumentation/">GitHub workflow</a></li><li><a class="tocitem" href="../../Overview/da_graph/">Graphical Overview</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on Atos</a></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Overview</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Overview/Content/">Content</a></li><li><a class="tocitem" href="../../Overview/Binaries/">Binaries</a></li><li><a class="tocitem" href="../../Overview/FileFormats/">File Formats</a></li><li><a class="tocitem" href="../../Overview/Source/">Source</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Experiment Configuration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ExperimentConfiguration/ConfigureYourExperiment/">Experiment</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/Namelists/">Namelist</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/UseofObservation/">Observations</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/PlatformConfiguration/">Platform</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/How_to_use_hires_topography/">HiRes Topography</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/ModelDomain/">Domain</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/VerticalGrid/">Vertical Grid</a></li></ul></li></ul></li><li><span class="tocitem">NWP Components</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Observations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1-1" type="checkbox" checked/><label class="tocitem" for="menuitem-3-1-1"><span class="docs-label">Preprocessing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../ObservationPreprocessing/">Preprocessing</a></li><li class="is-active"><a class="tocitem" href>Oulan</a><ul class="internal"><li><a class="tocitem" href="#General-Description"><span>General Description</span></a></li><li><a class="tocitem" href="#ShuffleBufr"><span>ShuffleBufr</span></a></li><li><a class="tocitem" href="#oulan"><span>oulan</span></a></li></ul></li><li><a class="tocitem" href="../Bator/">Bator</a></li><li><a class="tocitem" href="../Cope/">Cope</a></li><li><a class="tocitem" href="../ObservationData/">ObservationData</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-1-2" type="checkbox"/><label class="tocitem" for="menuitem-3-1-2"><span class="docs-label">How to</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../SYNOP/">SYNOP</a></li><li><a class="tocitem" href="../Amv/">AMV</a></li><li><a class="tocitem" href="../Iasi/">IASI</a></li><li><a class="tocitem" href="../Atovs/">ATOVS</a></li><li><a class="tocitem" href="../Scatt/">Scatt</a></li><li><a class="tocitem" href="../Ascat/">AScat</a></li><li><a class="tocitem" href="../GNSS/">GNSS</a></li><li><a class="tocitem" href="../Modes/">Modes</a></li><li><a class="tocitem" href="../RadarData/">Radar</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Data Assimilation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-2-1" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1"><span class="docs-label">Surface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI/">CANARI</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_OI_MAIN/">CANARI OI MAIN</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_EKF_SURFEX/">CANARI EKF SURFEX</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/SurfaceAnalysis/">Surface Analysis</a></li></ul></li><li><a class="tocitem" href="../../DataAssimilation/Screening/">Screening</a></li><li><a class="tocitem" href="../../DataAssimilation/StructureFunctions/">Structure functions</a></li><li><a class="tocitem" href="../../DataAssimilation/DaAlgorithms/">Algorithms</a></li><li><a class="tocitem" href="../../DataAssimilation/DigitalFilterInitialization/">Digital Filter Initialization</a></li><li><a class="tocitem" href="../../DataAssimilation/ObservationOperators/">HOP_DRIVER</a></li><li><a class="tocitem" href="../../DataAssimilation/SingleObs/">Single Obs</a></li><li><a class="tocitem" href="../../DataAssimilation/LSMIXandJk/">LSMIX and Jk</a></li><li><a class="tocitem" href="../../DataAssimilation/DFS/">DFS</a></li><li><a class="tocitem" href="../../DataAssimilation/MTEN/">MTEN</a></li><li><a class="tocitem" href="../../DataAssimilation/CHKEVO/">CHKEVO</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Boundaries</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Boundaries/BoundaryFilePreparation/">Preparation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Forecast Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ForecastModel/Forecast/">Forecast</a></li><li><a class="tocitem" href="../../ForecastModel/ForecastSettings/">Settings</a></li><li><a class="tocitem" href="../../ForecastModel/Outputlist/">Output List</a></li><li><a class="tocitem" href="../../ForecastModel/HR/">High Res</a></li><li><input class="collapse-toggle" id="menuitem-3-4-5" type="checkbox"/><label class="tocitem" for="menuitem-3-4-5"><span class="docs-label">Single Column Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC/">MUSC</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/Forcing/">Forcing</a></li><li><a class="tocitem" href="../../ForecastModel/SingleColumnModel/MUSC_vars/">MUSC vars</a></li></ul></li><li><a class="tocitem" href="../../ForecastModel/WindFarms/">Wind Farm Parameterisation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Climate Generation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ClimateGeneration/ClimateGeneration/">Climate Generation</a></li><li><a class="tocitem" href="../../ClimateGeneration/DownloadInputData/">Input Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">EPS</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../EPS/Howto/">Howto</a></li><li><a class="tocitem" href="../../EPS/System/">System</a></li><li><a class="tocitem" href="../../EPS/BDSTRATEGY/">BDSTRATEGY</a></li><li><a class="tocitem" href="../../EPS/SLAF/">SLAF</a></li><li><a class="tocitem" href="../../EPS/SPP/">SPP</a></li><li><a class="tocitem" href="../../EPS/SPPT/">SPPT</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-7" type="checkbox"/><label class="tocitem" for="menuitem-3-7"><span class="docs-label">Post Processing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../PostProcessing/Diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../../PostProcessing/FileConversions/">FileConversions</a></li><li><a class="tocitem" href="../../PostProcessing/Fullpos/">FullPos</a></li><li><a class="tocitem" href="../../PostProcessing/gl/">GL</a></li><li><a class="tocitem" href="../../PostProcessing/xtool/">xtool</a></li><li><a class="tocitem" href="../../PostProcessing/PostPP/">PostPP</a></li><li><a class="tocitem" href="../../PostProcessing/Interpolation/">Interpolation GL</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-8" type="checkbox"/><label class="tocitem" for="menuitem-3-8"><span class="docs-label">Verification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Verification/Extract4verification/">Extract4verification</a></li><li><a class="tocitem" href="../../Verification/Verification/">Verification</a></li><li><a class="tocitem" href="../../Verification/HARP/">HARP</a></li><li><a class="tocitem" href="../../Verification/Obsmon/">Obsmon</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-9" type="checkbox"/><label class="tocitem" for="menuitem-3-9"><span class="docs-label">Visualization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Visualization/EPyGrAM/">EpyGram</a></li></ul></li></ul></li><li><span class="tocitem">System</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Build</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Build/Build_with_cmake/">CMake</a></li><li><a class="tocitem" href="../../Build/Build_with_makeup/">Makeup</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Phasing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../System/MFaccess/">MF Access</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Suite Management</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../SuiteManagement/ECFLOW/">ECFLOW</a></li></ul></li><li><a class="tocitem" href="../../System/TheHarmonieScript/">The Harmonie script</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on ECMWF&#39;s Atos</a></li><li><a class="tocitem" href="../../System/ReleaseProcess/">Harmonie release process</a></li><li><a class="tocitem" href="../../System/Local/QuickStartLocal/">Local</a></li><li><a class="tocitem" href="../../System/HarmonieTestbed/">Testbed</a></li><li><a class="tocitem" href="../../System/ECMWF/ECMWF_teleport/">Teleport</a></li><li><a class="tocitem" href="../../System/Build_local_docs/">Local Documentation</a></li><li><a class="tocitem" href="../../System/DrHook/">DrHook</a></li><li><a class="tocitem" href="../../System/StandaloneOdb/">Stand alone ODB</a></li><li><a class="tocitem" href="../../System/UpdateNamelists/">Update Namelist</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">NWP Components</a></li><li><a class="is-disabled">Observations</a></li><li><a class="is-disabled">Preprocessing</a></li><li class="is-active"><a href>Oulan</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Oulan</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Hirlam/Harmonie/blob/dev-CY46h1/docs/src/Observations/Oulan.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="OBSOUL-creation:-Oulan"><a class="docs-heading-anchor" href="#OBSOUL-creation:-Oulan">OBSOUL creation: Oulan</a><a id="OBSOUL-creation:-Oulan-1"></a><a class="docs-heading-anchor-permalink" href="#OBSOUL-creation:-Oulan" title="Permalink"></a></h1><h2 id="General-Description"><a class="docs-heading-anchor" href="#General-Description">General Description</a><a id="General-Description-1"></a><a class="docs-heading-anchor-permalink" href="#General-Description" title="Permalink"></a></h2><p>The pre-processing step creates ODB (Observational Data Base) from various observation data files possibly in different formats.</p><ul><li>Software: The programs used for pre-processing (Shufflebufr, oulan and BATOR) are not part of the IFS code. oulan is software developed at Météo France to extract observations from their local database (BDM). The output of oulan (OBSOUL) is one of the inputs of BATOR. BATOR is also software developed at Météo France to generate the ODB (Observational !DataBase) database for the ARPEGE/ALADIN/HARMONIE analysis system. ODB is a tailor made database software developed at ECMWF to manage very large observational data volumes assimilated in the IFS 4DVAR system, and to enable flexible post-processing of this data <a href="http://old.ecmwf.int/services/odb/odb_overview.pdf">(Sami Saarinen, 2006)</a>. We use oulan to generate an OBSOUL file from different BUFR files (note you can easily change the oulan program to handle data in different format than BUFR. For example in OPLACE data processing some files are in netCDF format). OBSOUL file is an ASCII formatted file, the content of which is similar to that of the CMA (Central Memory Array, packing format actually in use in the HIRLAM data assimilation system). Our version of ouland is placed under “util” directory in the repository. HARMONIE BATOR originates from the MF export-pack. The figure bellow describes the mechanism of the observation pre-processing in HARMONIE DA. To sum it up, !ShuffleBufr splits different observations into BUFR files, then oulan creates the OBSOUL file, and BATOR creates the ODB file using satellite BUFR/GRIB/BIN files and the OBSOUL one.</li><li>Compilation: <code>oulan</code>, <code>Shufflebufr</code> are compiled using <code>gmkpack</code> or <code>makeup</code>.</li><li>Scripts: <code>Oulan</code></li><li>Input/output</li><li>oulan  input: BUFR files; output: the OBSOUL file in ASCII format</li></ul><h2 id="ShuffleBufr"><a class="docs-heading-anchor" href="#ShuffleBufr">ShuffleBufr</a><a id="ShuffleBufr-1"></a><a class="docs-heading-anchor-permalink" href="#ShuffleBufr" title="Permalink"></a></h2><p><code>ShuffleBufr</code> splits different observations into separate BUFR files according the IFS observation type/sub-type definition. Some of them (essentially those of conventional observations) are then fed to OULAN; the others go directly into BATOR.</p><pre><code class="language-bash hljs">    PROGRAM SHUFFLEBUFR
    Split and shuffle BUFR file into  specific BUFR files for OULAN

    Usage: SHUFFLEBUFR -i &lt;bufr_file&gt; [-s1|-s2|-s3]  [-a] [-r]

           -s1 : Synop ship will be extracted in &lt;synop&gt;
           -s2 : Synop ship will be extracted in &lt;buoy&gt;
           -s3 : Synop ship will be extracted in &lt;ship&gt;

           Nota Bene: If -s1,-s2 or -s3 are not specified
                      synop_ship will not be extracted

           -a  : Extracts ATOVS in files amsua and amsub

           -r  : Extracts also record messages (synop)</code></pre><p>The splitting is done with the following command (BUFRFILE is a file containing all observations) in the Oulan script:</p><pre><code class="language-bash hljs">      $BINDIR/ShuffleBufr -i ${BUFRFILE} -s3 -a</code></pre><h2 id="oulan"><a class="docs-heading-anchor" href="#oulan">oulan</a><a id="oulan-1"></a><a class="docs-heading-anchor-permalink" href="#oulan" title="Permalink"></a></h2><p>oulan reads (primarily conventional observation) BUFR data and converts them into ASCII format OBSOUL files. Note, <strong>we can make observation selection</strong> in oulan. More details about how to do data selection can be found <a href="http://owww.met.hu/pages/seminars/ALADIN2005/28_Bp_workshop1n_n_RogerR.ppt">here (Randriamampianina, ALADIN/HIRLAM Workshop 2005)</a></p><ol><li><p>namelist description:</p><table><tr><th style="text-align: left"><strong>NADIRS</strong></th><th style="text-align: left"></th></tr><tr><td style="text-align: left"><code>ANZA=90.</code></td><td style="text-align: left">If LZONEA is true then only extract observations south of 90N</td></tr><tr><td style="text-align: left"><code>ALASZA=0.</code></td><td style="text-align: left">If LZONEA is true then only extract observations north of 0</td></tr><tr><td style="text-align: left"><code>ALOEZA=-180.</code></td><td style="text-align: left">If LZONEA is true then only extract observations west of 180W</td></tr><tr><td style="text-align: left"><code>ALOOZA=180.</code></td><td style="text-align: left">If LZONEA is true then only extract observations west of 180E</td></tr><tr><td style="text-align: left"><code>LNEWSYNOPBUFR=.FALSE.</code></td><td style="text-align: left">Process new format BUFR SYNOP <strong>experimental</strong></td></tr><tr><td style="text-align: left"><code>LNEWSHIPBUFR=.FALSE.</code></td><td style="text-align: left">Process new format BUFR SHIP <strong>experimental</strong></td></tr><tr><td style="text-align: left"><code>LNEWBUOYBUFR=.FALSE.</code></td><td style="text-align: left">Process new format BUFR BUOY <strong>experimental</strong></td></tr><tr><td style="text-align: left"><code>LNEWTEMPBUFR=.FALSE.</code></td><td style="text-align: left">Process new format BUFR TEMP <strong>experimental</strong></td></tr><tr><td style="text-align: left"><code>LACAR=.TRUE.</code></td><td style="text-align: left">Process ACARS BUFR data</td></tr><tr><td style="text-align: left"><code>LAIREP=.TRUE.</code></td><td style="text-align: left">Process AIREP BUFR data</td></tr><tr><td style="text-align: left"><code>LAMDAR=.TRUE.</code></td><td style="text-align: left">Process AMDAR BUFR data</td></tr><tr><td style="text-align: left"><code>LBUOY=.TRUE.</code></td><td style="text-align: left">Process BUOY BUFR data</td></tr><tr><td style="text-align: left"><code>LEUROPROFIL=.FALSE.</code></td><td style="text-align: left">Process European Profiler BUFR data</td></tr><tr><td style="text-align: left"><code>LPILOT=.TRUE.</code></td><td style="text-align: left">Process PILOT BUFR data</td></tr><tr><td style="text-align: left"><code>LRH2Q=.FALSE.</code></td><td style="text-align: left">Extract 2m RH from SYNOP, BUOY and TEMP BUFR data</td></tr><tr><td style="text-align: left"><code>LSHIP=.TRUE.</code></td><td style="text-align: left">Process SHIP BUFR data</td></tr><tr><td style="text-align: left"><code>LSYNOP=.TRUE.</code></td><td style="text-align: left">Process SYNOP BUFR data</td></tr><tr><td style="text-align: left"><code>LTEMP=.TRUE.</code></td><td style="text-align: left">Process TEMP BUFR data</td></tr><tr><td style="text-align: left"><code>LTEMPDROP=.TRUE.</code></td><td style="text-align: left">Process DROPTEMP BUFR data</td></tr><tr><td style="text-align: left"><code>LTEMPSHIP=.TRUE.</code></td><td style="text-align: left">Process TEMPSHIP BUFR data</td></tr><tr><td style="text-align: left"><code>LTOVSAMSUA=.FALSE.</code></td><td style="text-align: left">Process AMSUA data</td></tr><tr><td style="text-align: left"><code>LTOVSAMSUB=.FALSE.</code></td><td style="text-align: left">Process AMSUB data</td></tr><tr><td style="text-align: left"><code>LTOVSHIRS=.FALSE.</code></td><td style="text-align: left">Process HIRS data</td></tr><tr><td style="text-align: left"><code>LZONEA=.TRUE.</code></td><td style="text-align: left">Switch to extract data in defined lat-lon domain (N,S,E,W)</td></tr><tr><td style="text-align: left"><code>NDATE=DDATE</code></td><td style="text-align: left">OBSOUL Date</td></tr><tr><td style="text-align: left"><code>NDIFFM1=30</code></td><td style="text-align: left">Define analysis window (T-NDIFFM1)</td></tr><tr><td style="text-align: left"><code>NDIFFM2=300</code></td><td style="text-align: left">Define analysis window (T-NDIFFM2)</td></tr><tr><td style="text-align: left"><code>NDIFFP1=30</code></td><td style="text-align: left">Define analysis window (T+NDIFFP1)</td></tr><tr><td style="text-align: left"><code>NDIFFP2=259</code></td><td style="text-align: left">Define analysis window (T+NDIFFP2)</td></tr><tr><td style="text-align: left"><code>NINIT=0</code></td><td style="text-align: left">flag used by oulan to prevent writing if problem is found</td></tr><tr><td style="text-align: left"><code>NRESO=HHOUR</code></td><td style="text-align: left">OBSOUL Hour</td></tr><tr><td style="text-align: left"><code>**NANBOB*</code></td><td style="text-align: left">Namelist to define number of observations to be extracted</td></tr><tr><td style="text-align: left"><code>NBACAR=750000</code></td><td style="text-align: left">Number of ACAR obs</td></tr><tr><td style="text-align: left"><code>NBAIREP=750000</code></td><td style="text-align: left">Number of AIREP obs</td></tr><tr><td style="text-align: left"><code>NBAMDAR=750000</code></td><td style="text-align: left">Number of AMDAR obs</td></tr><tr><td style="text-align: left"><code>NBBUOY=  4000</code></td><td style="text-align: left">Number of BUOY obs</td></tr><tr><td style="text-align: left"><code>NBEUROPROFIL= 15000</code></td><td style="text-align: left">Number of European profiler obs</td></tr><tr><td style="text-align: left"><code>NBPILOT=  2000</code></td><td style="text-align: left">Number of PILOT obs</td></tr><tr><td style="text-align: left"><code>NBSHIP= 30000</code></td><td style="text-align: left">Number of SHIP obs</td></tr><tr><td style="text-align: left"><code>NBSYNOP= 60000</code></td><td style="text-align: left">Number of SYNOP obs</td></tr><tr><td style="text-align: left"><code>NBTEMP=  2000</code></td><td style="text-align: left">Number of Land TEMP obs (since r14078)</td></tr><tr><td style="text-align: left"><code>NBTEMPDROP=  1000</code></td><td style="text-align: left">Number of DROPTEMP obs (since r14078)</td></tr><tr><td style="text-align: left"><code>NBTEMPSHIP=  1000</code></td><td style="text-align: left">Number of Ship TEMP obs (since r14078)</td></tr><tr><td style="text-align: left"><code>NBTOVSAMSUA= 80000</code></td><td style="text-align: left">Number of AMSUA obs</td></tr><tr><td style="text-align: left"><code>NBTOVSAMSUB= 80000</code></td><td style="text-align: left">Number of AMSUB obs</td></tr><tr><td style="text-align: left"><code>NBTOVSHIRS=  8000</code></td><td style="text-align: left">Number of HIRS obs</td></tr></table></li><li><p>make a namelist</p><pre><code class="language-bash hljs">  NAMELIST=$WRK/$WDIR/namelist_oulan
  Get_namelist oulan $NAMELIST
  sed -e &quot;s/DDATE/$SDATE/&quot; \
      -e &quot;s/HHOUR/$SHOUR/&quot;
      -e &quot;s/SALOOZA/$OULWEST/&quot;  \
      -e &quot;s/SALANZA/$OULNORTH/&quot;  \
      -e &quot;s/SALOEZA/$OULEAST/&quot;  \
      -e &quot;s/SALASZA/$OULSOUTH/&quot; \
      -e &quot;s/SLNEWSYNOPBUFR/$SLNEWSYNOPBUFR/&quot; \
      -e &quot;s/SLNEWSHIPBUFR/$SLNEWSHIPBUFR/&quot; \
      -e &quot;s/SLNEWBUOYBUFR/$SLNEWBUOYBUFR/&quot; \
      -e &quot;s/SLNEWTEMPBUFR/$SLNEWTEMPBUFR/&quot; \
      ${NAMELIST} &gt;NAMELIST</code></pre></li><li><p>run oulan</p><pre><code class="language-bash hljs">$BINDIR/oulan</code></pre></li><li><p>process GNSS data. If <code>$GNSS_OBS</code> is set to 1 then GNSS observations are added to the OBSOUL file and whitelisting is carried out using <code>PREGPSSOL</code></p></li></ol><h3 id="New-BUFR-templates"><a class="docs-heading-anchor" href="#New-BUFR-templates">New BUFR templates</a><a id="New-BUFR-templates-1"></a><a class="docs-heading-anchor-permalink" href="#New-BUFR-templates" title="Permalink"></a></h3><p><strong>Valid for HARMONIE 40h1 and later</strong></p><p>The use of new format (GTS WMO) BUFR is controlled in <code>scr/include.ass</code> by <code>LNEWSYNOPBUFR</code>, <code>LNEWSHIPBUFR</code>, <code>LNEWBUOYBUFR</code>, <code>LNEWTEMPBUFR</code> (set to 0 or 1). These environment variables control namelist settings in the <code>Oulan</code> script. GTS and ECMWF BUFR were used to guide the code changes so Oulan assumes either &quot;flavour&quot; of BUFR. Local changes may be required if your locally produced BUFR, in particular section 1 data sub-type settings, do not follow WMO and/or ECMWF practices.</p><p>The ECMWF wiki contains updates regarding the quality of the new BUFR HR observations. See the following ECMWF wiki pages for furher information:</p><ul><li><a href="https://confluence.ecmwf.int/wiki/display/TCBUF/TAC+To+BUFR+Migration">https://confluence.ecmwf.int/wiki/display/TCBUF/TAC+To+BUFR+Migration</a></li><li><a href="https://confluence.ecmwf.int/wiki/display/TCBUF/Statistics+of+High+resolution+BUFR+TEMP">https://confluence.ecmwf.int/wiki/display/TCBUF/Statistics+of+High+resolution+BUFR+TEMP</a></li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ObservationPreprocessing/">« Preprocessing</a><a class="docs-footer-nextpage" href="../Bator/">Bator »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Tuesday 18 April 2023 15:38">Tuesday 18 April 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
