<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Documentation of OCND2 modification of ICE3/ICE4 microphysics in AROME · Harmonie wiki</title><script async src="https://www.googletagmanager.com/gtag/js?id=G-HQ1BCP3LPJ"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-HQ1BCP3LPJ', {'page_path': location.pathname + location.search + location.hash});
</script><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://hirlam.github.io/HarmonieSystemDocumentation/dev/ForecastModel/OCDN2/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img src="../../assets/logo.png" alt="Harmonie wiki logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Harmonie wiki</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">Getting Started</span><ul><li><a class="tocitem" href="../../System/GitDeveloperDocumentation/">GitHub workflow</a></li><li><a class="tocitem" href="../../Overview/da_graph/">Graphical Overview</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on Atos</a></li><li><input class="collapse-toggle" id="menuitem-2-4" type="checkbox"/><label class="tocitem" for="menuitem-2-4"><span class="docs-label">Overview</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Overview/Content/">Content</a></li><li><a class="tocitem" href="../../Overview/Binaries/">Binaries</a></li><li><a class="tocitem" href="../../Overview/FileFormats/">File Formats</a></li><li><a class="tocitem" href="../../Overview/Source/">Source</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2-5" type="checkbox"/><label class="tocitem" for="menuitem-2-5"><span class="docs-label">Experiment Configuration</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ExperimentConfiguration/ConfigureYourExperiment/">Experiment</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/Namelists/">Namelist</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/UseofObservation/">Observations</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/PlatformConfiguration/">Platform</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/How_to_use_hires_topography/">HiRes Topography</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/ModelDomain/">Domain</a></li><li><a class="tocitem" href="../../ExperimentConfiguration/VerticalGrid/">Vertical Grid</a></li></ul></li></ul></li><li><span class="tocitem">NWP Components</span><ul><li><input class="collapse-toggle" id="menuitem-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1"><span class="docs-label">Observations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-1-1" type="checkbox"/><label class="tocitem" for="menuitem-3-1-1"><span class="docs-label">Preprocessing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Observations/ObservationPreprocessing/">Preprocessing</a></li><li><a class="tocitem" href="../../Observations/Oulan/">Oulan</a></li><li><a class="tocitem" href="../../Observations/Bator/">Bator</a></li><li><a class="tocitem" href="../../Observations/Cope/">Cope</a></li><li><a class="tocitem" href="../../Observations/ObservationData/">ObservationData</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-1-2" type="checkbox"/><label class="tocitem" for="menuitem-3-1-2"><span class="docs-label">How to</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Observations/SYNOP/">SYNOP</a></li><li><a class="tocitem" href="../../Observations/Amv/">AMV</a></li><li><a class="tocitem" href="../../Observations/Atovs/">ATOVS</a></li><li><a class="tocitem" href="../../Observations/Iasi/">IASI</a></li><li><a class="tocitem" href="../../Observations/Seviri/">SEVIRI</a></li><li><a class="tocitem" href="../../Observations/Scatt/">Scatt</a></li><li><a class="tocitem" href="../../Observations/Ascat/">AScat</a></li><li><a class="tocitem" href="../../Observations/GNSS/">GNSS</a></li><li><a class="tocitem" href="../../Observations/Modes/">Modes</a></li><li><a class="tocitem" href="../../Observations/RadarData/">Radar</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Data Assimilation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-2-1" type="checkbox"/><label class="tocitem" for="menuitem-3-2-1"><span class="docs-label">Surface</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI/">CANARI</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_OI_MAIN/">CANARI OI MAIN</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/CANARI_EKF_SURFEX/">CANARI EKF SURFEX</a></li><li><a class="tocitem" href="../../DataAssimilation/Surface/SurfaceAnalysis/">Surface Analysis</a></li></ul></li><li><a class="tocitem" href="../../DataAssimilation/Screening/">Screening</a></li><li><a class="tocitem" href="../../DataAssimilation/StructureFunctions/">Structure functions</a></li><li><a class="tocitem" href="../../DataAssimilation/DaAlgorithms/">Algorithms</a></li><li><a class="tocitem" href="../../DataAssimilation/DigitalFilterInitialization/">Digital Filter Initialization</a></li><li><a class="tocitem" href="../../DataAssimilation/ObservationOperators/">HOP_DRIVER</a></li><li><a class="tocitem" href="../../DataAssimilation/SingleObs/">Single Obs</a></li><li><a class="tocitem" href="../../DataAssimilation/LSMIXandJk/">LSMIX and Jk</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3" type="checkbox"/><label class="tocitem" for="menuitem-3-3"><span class="docs-label">Diagnostics</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><input class="collapse-toggle" id="menuitem-3-3-1" type="checkbox"/><label class="tocitem" for="menuitem-3-3-1"><span class="docs-label">Data Assimilation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/DFS/">DFS</a></li><li><a class="tocitem" href="../../DataAssimilation/MTEN/">MTEN</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-3-2"><span class="docs-label">Forecast(spin-up)</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../DataAssimilation/CHKEVO/">CHKEVO</a></li><li><a class="tocitem" href="../../DataAssimilation/NWECHKEVO/">NWECHKEVO</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-4" type="checkbox"/><label class="tocitem" for="menuitem-3-4"><span class="docs-label">Boundaries</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Boundaries/BoundaryFilePreparation/">Preparation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5"><span class="docs-label">Forecast Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Forecast/">Forecast</a></li><li><a class="tocitem" href="../ForecastSettings/">Settings</a></li><li><a class="tocitem" href="../Outputlist/">Output List</a></li><li><a class="tocitem" href="../HR/">High Res</a></li><li><input class="collapse-toggle" id="menuitem-3-5-5" type="checkbox"/><label class="tocitem" for="menuitem-3-5-5"><span class="docs-label">Single Column Model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../SingleColumnModel/MUSC/">MUSC</a></li><li><a class="tocitem" href="../SingleColumnModel/Forcing/">Forcing</a></li><li><a class="tocitem" href="../SingleColumnModel/MUSC_vars/">MUSC vars</a></li></ul></li><li><a class="tocitem" href="../WindFarms/">Wind Farm Parameterisation</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-6" type="checkbox"/><label class="tocitem" for="menuitem-3-6"><span class="docs-label">Climate Generation</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../ClimateGeneration/ClimateGeneration/">Climate Generation</a></li><li><a class="tocitem" href="../../ClimateGeneration/DownloadInputData/">Input Data</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-7" type="checkbox"/><label class="tocitem" for="menuitem-3-7"><span class="docs-label">EPS</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../EPS/Howto/">Howto</a></li><li><a class="tocitem" href="../../EPS/System/">System</a></li><li><a class="tocitem" href="../../EPS/BDSTRATEGY/">BDSTRATEGY</a></li><li><a class="tocitem" href="../../EPS/SLAF/">SLAF</a></li><li><a class="tocitem" href="../../EPS/SPP/">SPP</a></li><li><a class="tocitem" href="../../EPS/SPPT/">SPPT</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-8" type="checkbox"/><label class="tocitem" for="menuitem-3-8"><span class="docs-label">Post Processing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../PostProcessing/Diagnostics/">Diagnostics</a></li><li><a class="tocitem" href="../../PostProcessing/FileConversions/">FileConversions</a></li><li><a class="tocitem" href="../../PostProcessing/Fullpos/">FullPos</a></li><li><a class="tocitem" href="../../PostProcessing/gl/">GL</a></li><li><a class="tocitem" href="../../PostProcessing/xtool/">xtool</a></li><li><a class="tocitem" href="../../PostProcessing/PostPP/">PostPP</a></li><li><a class="tocitem" href="../../PostProcessing/Interpolation/">Interpolation GL</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-9" type="checkbox"/><label class="tocitem" for="menuitem-3-9"><span class="docs-label">Verification</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Verification/Extract4verification/">Extract4verification</a></li><li><a class="tocitem" href="../../Verification/Verification/">Verification</a></li><li><a class="tocitem" href="../../Verification/HARP/">HARP</a></li><li><a class="tocitem" href="../../Verification/Obsmon/">Obsmon</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3-10" type="checkbox"/><label class="tocitem" for="menuitem-3-10"><span class="docs-label">Visualization</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Visualization/EPyGrAM/">EpyGram</a></li></ul></li></ul></li><li><span class="tocitem">System</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Build</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Build/Build_with_cmake/">CMake</a></li><li><a class="tocitem" href="../../Build/Build_with_makeup/">Makeup</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">Phasing</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../System/MFaccess/">MF Access</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Suite Management</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../SuiteManagement/ECFLOW/">ECFLOW</a></li></ul></li><li><a class="tocitem" href="../../System/TheHarmonieScript/">The Harmonie script</a></li><li><a class="tocitem" href="../../System/ECMWF/RunningHarmonieOnAtos/">Running on ECMWF&#39;s Atos</a></li><li><a class="tocitem" href="../../System/ReleaseProcess/">Harmonie release process</a></li><li><a class="tocitem" href="../../System/Local/QuickStartLocal/">Local</a></li><li><a class="tocitem" href="../../System/HarmonieTestbed/">Testbed</a></li><li><a class="tocitem" href="../../System/ECMWF/ECMWF_teleport/">Teleport</a></li><li><a class="tocitem" href="../../System/Build_local_docs/">Local Documentation</a></li><li><a class="tocitem" href="../../System/DrHook/">DrHook</a></li><li><a class="tocitem" href="../../System/StandaloneOdb/">Stand alone ODB</a></li><li><a class="tocitem" href="../../System/UpdateNamelists/">Update Namelist</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Documentation of OCND2 modification of ICE3/ICE4 microphysics in AROME</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Documentation of OCND2 modification of ICE3/ICE4 microphysics in AROME</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Hirlam/Harmonie/blob/dev-CY46h1/docs/src/ForecastModel/OCDN2.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Documentation-of-OCND2-modification-of-ICE3/ICE4-microphysics-in-AROME"><a class="docs-heading-anchor" href="#Documentation-of-OCND2-modification-of-ICE3/ICE4-microphysics-in-AROME">Documentation of OCND2 modification of ICE3/ICE4 microphysics in AROME</a><a id="Documentation-of-OCND2-modification-of-ICE3/ICE4-microphysics-in-AROME-1"></a><a class="docs-heading-anchor-permalink" href="#Documentation-of-OCND2-modification-of-ICE3/ICE4-microphysics-in-AROME" title="Permalink"></a></h1><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>This option was implemented in ICE3/ICE4 microphysics in 2014 in order to improve the performance of the HARMONIE-AROME model configuration in Winter over the Arctic/Subarctic region. Errors corrected were mainly for missing low clouds in moderately cold conditions, an excess of ice clouds in the case of severe cold weather and an excess of cirrus clouds. </p><h2 id="Implementation-in-CY46-switching-on-the-parameterisation"><a class="docs-heading-anchor" href="#Implementation-in-CY46-switching-on-the-parameterisation">Implementation in CY46 - switching on the parameterisation</a><a id="Implementation-in-CY46-switching-on-the-parameterisation-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation-in-CY46-switching-on-the-parameterisation" title="Permalink"></a></h2><p>To use the parameterisation go to nam/harmonie_namelists.pm and set <code>LOCND2 = .TRUE.</code> in the namparar namelist. </p><h2 id="About-the-Code"><a class="docs-heading-anchor" href="#About-the-Code">About the Code</a><a id="About-the-Code-1"></a><a class="docs-heading-anchor-permalink" href="#About-the-Code" title="Permalink"></a></h2><p>In CY46, there are two coding versions of ICE3/ICE4 - <code>rain_ice_old.F90</code> and <code>rain_ice.F90</code>. The variable CMICRO determines which is used, OLD3 for  <code>rain_ice_old.F90</code> and ICE3 for <code>rain_ice.F90</code>. The structure of the code differs between these versions, and since the time stepping procedure is different, the result differs too. But the content of the modification for OCND2 is the same in both versions. The modifications can be be found by searching for</p><pre><code class="language-fortran hljs">IF(OCND2) THEN \
    --- new code ---\
ENDIF </code></pre><h3 id="The-main-OCDN2-modifications-are"><a class="docs-heading-anchor" href="#The-main-OCDN2-modifications-are">The main OCDN2 modifications are</a><a id="The-main-OCDN2-modifications-are-1"></a><a class="docs-heading-anchor-permalink" href="#The-main-OCDN2-modifications-are" title="Permalink"></a></h3><ol><li>Tuning factors for reducing the rate of deposition/evaporation of snow and graupel. See code block “1.2 COMPUTE SOME CONSTANT PARAMETERS” in <code>rain_ice_old.F90</code> or in <code>ice4_slow.F90</code>. The tuning factors are then used later in <code>rain_ice_old.F90</code>, see code block “3.4.3 compute the deposition on r<em>s: RVDEPS&quot; for snow and in “3.4.6 compute the deposition on r</em>g: RVDEPG” for graupel. In the <code>rain_ice.F90</code> framework it is all done in the routine <code>ice4_slow.F90</code>. More information about the tuning parameters is included later in this documentation.</li><li>Mask to limit computation: Set by tuning parameters in the code block “1.2 COMPUTE SOME CONSTANT PARAMETERS“ in <code>rain_ice_old.F90</code> or in <code>aro_rain_ice.F90</code> within the <code>rain_ice.F90</code> framework. For <code>OCND2=FALSE</code> the limits are hard-coded.</li><li>The cloud ice crystal concentration: Modified with OCND2, see code block “3.1.1 compute the cloud ice concentration” in <code>rain_ice_old</code> or <code>ice4_nucleation.F90</code> within the <code>rain_ice.F90</code> framework.</li><li>Turn large cloud ice crystals into snow: See code block “3.4.5 B:” in <code>rain_ice_old.F90</code> or <code>ice4_fast_si.F90</code> within the <code>rain_ice.F90</code> framework.</li><li>Omit collision between snow and graupel since the effect in nature is very small and thus better to omit and speed up the computation a little. See code block “6.2.5” in <code>rain_ice_old.F90</code> or <code>ice4_fast_rg.F90</code> respectively</li><li>Sub grid-scale calculation of deposition/evaporation of cloud ice. See code block “7.2 Bergeron-Findeisen effect: RCBERI” in <code>rain_ice_old.F90</code> or <code>ice4_fast_si.F90</code> for the <code>rain_ice.F90</code> set up.</li></ol><p>There is also an important difference in <code>condensation.F90</code>: With OCND2, only liquid cloud water is handled within the statistical cloud scheme, not both ice and water as is the case with <code>OCND2=F.</code> With <code>OCND2=F</code>, the total cloud cover is calculated directly from the statistical cloud scheme. With <code>OCND2=T</code>, the total cloud cover is calculated as a sum of a liquid part, which is basically just the cloud cover from the statistical cloud scheme and an ice part which is based on the relative humidity with respect to ice and on the content of solid water species. </p><p>There are two new routines for OCND2:  </p><ol><li><code>icecloud.F90</code> is used for the sub grid-scale handling of relative humidity with respect to ice and thus for ice clouds. It is called from <code>condensation.F90</code>.</li><li><code>ice4_fast_si.F90</code> is only used by the newer <code>rain_ice.F90</code> routine. As already mentioned, it deals with deposition/evaporation of cloud ice. </li></ol><h3 id="Tuning-parameters"><a class="docs-heading-anchor" href="#Tuning-parameters">Tuning parameters</a><a id="Tuning-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Tuning-parameters" title="Permalink"></a></h3><p>The tuning parameters used specifically for OCND2 can be divided into three categories: </p><h4 id="Only-having-an-effect-if-OCND2-is-set-to-TRUE-and-used-for-SPP-(April-2023)."><a class="docs-heading-anchor" href="#Only-having-an-effect-if-OCND2-is-set-to-TRUE-and-used-for-SPP-(April-2023).">Only having an effect if OCND2 is set to TRUE and used for SPP (April 2023).</a><a id="Only-having-an-effect-if-OCND2-is-set-to-TRUE-and-used-for-SPP-(April-2023).-1"></a><a class="docs-heading-anchor-permalink" href="#Only-having-an-effect-if-OCND2-is-set-to-TRUE-and-used-for-SPP-(April-2023)." title="Permalink"></a></h4><table><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>RFMIN(21)</code></td><td style="text-align: left">Tuning factor for ice clouds, such as cirrus. A larger value means a larger effect of the presence of solid water and thus more ice clouds. (The value is somewhat dependent on what kind of measurement one compares with, and how thin a cirrus cloud should be to be counted as a cloud. A range of 0.5 to 3 should be enough.)</td></tr></table><h4 id="Only-having-effect-if-OCND2-is-set-to-TRUE-but-currently-(April-2023)-not-used-in-SPP."><a class="docs-heading-anchor" href="#Only-having-effect-if-OCND2-is-set-to-TRUE-but-currently-(April-2023)-not-used-in-SPP.">Only having effect if OCND2 is set to TRUE but currently (April 2023) not used in SPP.</a><a id="Only-having-effect-if-OCND2-is-set-to-TRUE-but-currently-(April-2023)-not-used-in-SPP.-1"></a><a class="docs-heading-anchor-permalink" href="#Only-having-effect-if-OCND2-is-set-to-TRUE-but-currently-(April-2023)-not-used-in-SPP." title="Permalink"></a></h4><table><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>RFMIN(12)</code></td><td style="text-align: left">Threshold supersaturation with respect to ice in the supersaturated part of the grid-box for treatment in the microphysics computation. A larger value gives more supersaturation and a somewhat faster computation. Values that are too large are physically unrealistic, but there seems to be no consensus about the best value.</td></tr><tr><td style="text-align: left"><code>RFMIN(13)</code></td><td style="text-align: left">Threshold mixing ratio for different non-vapor water species treated in the microphysics computation. Larger values result in faster computation, but possible important processes, when only small mixing ratios of water species are present, may be missed.</td></tr><tr><td style="text-align: left"><code>RFMIN(15)</code></td><td style="text-align: left">Ice crystal diameter(m) for conversion from cloud ice to snow. Larger values lead to more ice and less snow.</td></tr><tr><td style="text-align: left"><code>RFMIN(27)</code></td><td style="text-align: left">Experimental! Minimum temperature (K) used for Meyers ice number concentration. Larger values give less ice for temperatures below <code>RFRMIN(27)</code>.</td></tr><tr><td style="text-align: left"><code>RFMIN(39)</code></td><td style="text-align: left">Speed factor for deposition/evaporation rate of graupel. Larger values give faster deposition /evaporation.</td></tr><tr><td style="text-align: left"><code>RFMIN(40)</code></td><td style="text-align: left">Speed factor for deposition/evaporation rate of snow. Larger values give faster deposition /evaporation.</td></tr></table><h4 id="Have-an-effect-even-when-OCND2-is-not-used,-but-designed-for-OCND2"><a class="docs-heading-anchor" href="#Have-an-effect-even-when-OCND2-is-not-used,-but-designed-for-OCND2">Have an effect even when OCND2 is not used, but designed for OCND2</a><a id="Have-an-effect-even-when-OCND2-is-not-used,-but-designed-for-OCND2-1"></a><a class="docs-heading-anchor-permalink" href="#Have-an-effect-even-when-OCND2-is-not-used,-but-designed-for-OCND2" title="Permalink"></a></h4><table><tr><th style="text-align: left">Variable</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>RFRMIN(1),RFRMIN(2),RFRMIN(3) and RFRMIN(4)</code></td><td style="text-align: left">Different thresholds for snow, ice, graupel and graupel again, respectively, leading to conversion of super-cooled rain into graupel. A higher value gives more super-cooled rain, but may be less physically realistic.</td></tr><tr><td style="text-align: left"><code>RFRMIN(7)</code></td><td style="text-align: left">Tuning factor for the collisions between rain and snow. Higher values give less super-cooled rain and more snow. Zero means that those collisions are disregarded (probably OK).</td></tr></table><h3 id="Full-list-of-RFRMIN-variables-(included-here-for-completeness,-not-all-OCDN2-related)"><a class="docs-heading-anchor" href="#Full-list-of-RFRMIN-variables-(included-here-for-completeness,-not-all-OCDN2-related)">Full list of RFRMIN variables (included here for completeness, not all OCDN2-related)</a><a id="Full-list-of-RFRMIN-variables-(included-here-for-completeness,-not-all-OCDN2-related)-1"></a><a class="docs-heading-anchor-permalink" href="#Full-list-of-RFRMIN-variables-(included-here-for-completeness,-not-all-OCDN2-related)" title="Permalink"></a></h3><table><tr><th style="text-align: left">Variable</th><th style="text-align: left">Value</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><code>RFMIN(1)</code></td><td style="text-align: left"><code>1.0E−5</code></td><td style="text-align: left">Higher value means more supercooled rain and somewhat less graupel.</td></tr><tr><td style="text-align: left"><code>RFMIN(2)</code></td><td style="text-align: left"><code>1.0E−8</code></td><td style="text-align: left">&quot;&quot;</td></tr><tr><td style="text-align: left"><code>RFMIN(3)</code></td><td style="text-align: left"><code>3.0E-7</code></td><td style="text-align: left">&quot;&quot;</td></tr><tr><td style="text-align: left"><code>RFMIN(4)</code></td><td style="text-align: left"><code>3.0E-7</code></td><td style="text-align: left">&quot;&quot;</td></tr><tr><td style="text-align: left"><code>RFMIN(5)</code></td><td style="text-align: left"><code>1.0E-7</code></td><td style="text-align: left">Higher value means less graupel and more snow. Experimental.</td></tr><tr><td style="text-align: left"><code>RFMIN(6)</code></td><td style="text-align: left"><code>0.15</code></td><td style="text-align: left">Higher value means more graupel and less snow. Experimental.</td></tr><tr><td style="text-align: left"><code>RFMIN(7)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">Higher value means less supercooled rain and somewhat more snow.</td></tr><tr><td style="text-align: left"><code>RFMIN(8)</code></td><td style="text-align: left"><code>1.</code></td><td style="text-align: left">&gt; 1. Increase melt of graupel, &lt; 1 decrease it. Experimental.</td></tr><tr><td style="text-align: left"><code>RFMIN(9)</code></td><td style="text-align: left"><code>1.</code></td><td style="text-align: left">&gt; 1 means increase IN-concentration and &lt;1 decrease.</td></tr><tr><td style="text-align: left"><code>RFMIN(10)</code></td><td style="text-align: left"><code>10.</code></td><td style="text-align: left">&gt;10 means faster Kogan autoconversion &lt;10 slower, only active for <code>LKOGAN=T</code>. This originates from the fact that the formula was based on an LES model with a higher horizontal resolution. It is easy to show that with a coarser resolution and an inhomogeneous cloud liquid field one has to add a compensating factor in order to retain the original mean autoconversion. Tests shows that a lower value e.g 3 would be better, and more in line with what ECMWF is using. The value 10 is, to some extent, a way of decreasing fog, but now we have a lot of other ways to reduce fog.</td></tr><tr><td style="text-align: left"><code>RFMIN(11)</code></td><td style="text-align: left"><code>1.</code></td><td style="text-align: left">Setting e.g. 0.01 means that subgrid-scale fraction of cloud water is used. Minimum cloud fraction=0.01. Only active for <code>LKOGAN=T</code>.</td></tr><tr><td style="text-align: left"><code>RFMIN(12)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">The level of supersaturation in the ice-supersaturated part of grid-box needed to be treated in ice microphysics. (Greg Thompson recommend a higher value 0.05-0.25, in MetCoOp 0.05 is used) Higher value means faster computations, but also that any ice deposition in clear sky is neglected for ice-supersaturated between zero and <code>RFRMIN(12)</code>. Only used with OCND2.</td></tr><tr><td style="text-align: left"><code>RFMIN(13)</code></td><td style="text-align: left"><code>1.0E-15</code></td><td style="text-align: left">The mixing-ratio of any water species needed to be treated in ice microphysics. The value 1.0E-15 is taken from old Hirlam. Only used with OCND2.</td></tr><tr><td style="text-align: left"><code>RFMIN(14)</code></td><td style="text-align: left"><code>120.</code></td><td style="text-align: left">Time scale for conversion of large ice crystals to snow. Only used with LMODICEDEP (Experimental).</td></tr><tr><td style="text-align: left"><code>RFMIN(15)</code></td><td style="text-align: left"><code>1.0E-4</code></td><td style="text-align: left">Diameter for conversion ice crystals into snow. Larger value gives more ice and less snow.</td></tr><tr><td style="text-align: left"><code>RFMIN(16)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">“C” parameter for size distribution of snow. (constant for number concentration, N=Cλ^x) Only active if non-zero. Experimental</td></tr><tr><td style="text-align: left"><code>RFMIN(17)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">“x” parameter for size distribution of snow. (slope for number concentration, N=Cλ^x) Only active if <code>RFRMIN(16)</code> is non-zero. Experimental.</td></tr><tr><td style="text-align: left"><code>RFMIN(18)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">With <code>RFRMIN(18)=1</code>, snow and graupel melt are based on wet bulb temperature, instead of temperature and leads to slower melting. Experimental.</td></tr><tr><td style="text-align: left"><code>RFMIN(19)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">Threshold cloud thickness for StCu/Cu transition [m] Only active for EDMF scheme and if non-zero, but very small effect.</td></tr><tr><td style="text-align: left"><code>RFMIN(20)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">Threshold cloud thickness used in shallow/deep decision [m]. Only active for EDMF scheme and if non-zero, higher value gives more shallow convection and less deep model resolved convection.</td></tr><tr><td style="text-align: left"><code>RFMIN(21)</code></td><td style="text-align: left"><code>1.</code></td><td style="text-align: left">Tuning parameter for ice clouds. Larger value gives more cirrus and other ice clouds.</td></tr><tr><td style="text-align: left"><code>RFMIN(22)</code></td><td style="text-align: left"><code>1.</code></td><td style="text-align: left">Tuning parameter for CDNC at lowest model level . Lower value give lower CDNC. <code>RFRMIN(22)=0.5</code> means CDNC= old CDNC x 0.5.</td></tr><tr><td style="text-align: left"><code>RFMIN(23)</code></td><td style="text-align: left"><code>0.5</code></td><td style="text-align: left">Tuning parameter only active with <code>LHGT_QS</code>. The lower limit for reduction of VSIGQSAT.</td></tr><tr><td style="text-align: left"><code>RFMIN(24)</code></td><td style="text-align: left"><code>1.5</code></td><td style="text-align: left">Tuning parameter only active with <code>LHGT_QS</code>. The upper limit for increase of VSIGQSAT.</td></tr><tr><td style="text-align: left"><code>RFMIN(25)</code></td><td style="text-align: left"><code>30.</code></td><td style="text-align: left">Tuning parameter only active with <code>LHGT_QS</code>. The level thickness for which VSIGQSAT is unchanged with <code>LHGT_QS</code>.</td></tr><tr><td style="text-align: left"><code>RFMIN(26)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">If &gt; 0.01, it replaces default CDNC everywhere. So <code>RFRMIN(26)=50E6</code> (Beware of that it is in m-3!) gives CDNC = 50 cm-3 at reference level (1000 hPa) and RFRMIN(26) x pressure/ ref-pressure elsewhere.</td></tr><tr><td style="text-align: left"><code>RFMIN(27)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">Minimum assumed temperature with respect to Meyers IN - concentration (K). Gives less IN concentration for temperatures below the value set. Experimental!</td></tr><tr><td style="text-align: left"><code>RFMIN(28)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">Currently not used.</td></tr><tr><td style="text-align: left"><code>RFMIN(29)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">If &gt;0. and <code>RFRMIN(22)&gt;0</code> it gives the upper limit in metres for which the reduction of CDNC has an effect. A linear decrease from the lowest level to <code>RFRMIN(29)</code> meters is assumed.</td></tr><tr><td style="text-align: left"><code>RFMIN(30)</code></td><td style="text-align: left"><code>1.</code></td><td style="text-align: left">If not unity, CDNC is reduced/increased over sea with a factor <code>RFRMIN(30)</code> for the lowest model level and linearly reaching &quot;no change&quot; at <code>RFRMIN(29)</code> m height. If <code>RFRMIN(29)</code> is unset, <code>RFRMIN(30)</code> only affects the lowest model level.</td></tr><tr><td style="text-align: left"><code>RFRMIN(31:38)</code></td><td style="text-align: left"><code>0.</code></td><td style="text-align: left">Currently not used.</td></tr><tr><td style="text-align: left"><code>RFRMIN(39)</code></td><td style="text-align: left"><code>0.25.</code></td><td style="text-align: left">Reduction factor for deposition/evaporation of graupel. Only used when <code>OCND2=T</code> and <code>LMODICEDEP=F</code>.</td></tr><tr><td style="text-align: left"><code>RFRMIN(40)</code></td><td style="text-align: left"><code>0.15</code></td><td style="text-align: left">Reduction factor for deposition/evaporation of snow. Only used when <code>OCND2=T</code> and <code>LMODICEDEP=F</code>.</td></tr></table></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Thursday 13 July 2023 10:54">Thursday 13 July 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
